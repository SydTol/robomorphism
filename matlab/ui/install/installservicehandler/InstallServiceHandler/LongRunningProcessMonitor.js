/** Copyright 2015 - 2019 The MathWorks, Inc. *///>>built//>>built

require({cache:{"mw-messageservice/MessageService":function(){define("dojo/_base/lang dojo/aspect dojo/on ./messageserviceimpl/MessageServiceAsync ./messageserviceimpl/MessageServiceBase ./messageserviceimpl/MessageServiceReqResp mw-remote/Remote".split(" "),function(m,g,k,b,a,c,f){var e=new a;a={messageService:e,subscribe:m.hitch(e,"subscribe"),unsubscribe:m.hitch(e,"unsubscribe"),publish:m.hitch(e,"publish"),start:m.hitch(e,"start"),stop:m.hitch(e,"stop"),isRunning:m.hitch(e,"isStarted"),isStarted:m.hitch(e,
"isStarted"),isConnected:m.hitch(e,"isConnected"),isFatallyDisconnected:m.hitch(e,"isFatallyDisconnected"),isDisconnected:m.hitch(e,"isDisconnected"),setLatency:m.hitch(e,"setLatency"),setErrorRate:m.hitch(e,"setErrorRate"),onConnected:function(){},onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},onNotConnected:function(){},on:function(a,b){return k(this.messageService,a,b)},handleMessage:m.hitch(e,"handleMessage"),internalMotwDisableStart:function(){this._startFunction=
this.start;this.start=function(){}},internalMotwEnableStart:function(){this._startFunction&&(this.start=this._startFunction,this._startFunction=null)}};g.after(e,"onConnected",m.hitch(a,"onConnected"),!0);g.after(e,"onDisconnected",m.hitch(a,"onDisconnected"),!0);g.after(e,"onReconnected",m.hitch(a,"onReconnected"),!0);g.after(e,"onFatallyDisconnected",m.hitch(a,"onFatallyDisconnected"),!0);g.after(e,"onNotConnected",m.hitch(a,"onNotConnected"),!0);var d=f.enableServerOnWorkerAsync;f.enableServerOnWorkerAsync=
function(){d();e.setDelegate(new b(f))};var l=f.disableServerOnWorkerAsync;f.disableServerOnWorkerAsync=function(){l();e.setDelegate(new c(f,e))};f.isServerOnWorkerAsyncEnabled()?f.enableServerOnWorkerAsync():f.disableServerOnWorkerAsync();return a})},"mw-messageservice/messageserviceimpl/MessageServiceAsync":function(){define("dojo/_base/declare dojo/_base/config dojo/aspect dojo/json dojo/Deferred dojox/cometd/cometd dojox/cometd/AckExtension mw-log/Log mw-remote/iframeproxy/IframeProxyClient".split(" "),
function(m,g,k,b,a,c,f,e,d){var l,h=c.Utils.setTimeout;c.JSON.toJSON=b.stringify;c.JSON.fromJSON=b.parse;var n=0,p=0,q={};setInterval(function(){n+=200;Object.keys(q).forEach(function(a){var b=q[a];b.execTime<=n&&(b.func(),delete q[a])})},200);var s=function(a,b,e){var l=new c.LongPollingTransport,l=c.Transport.derive(l);l.xhrSend=function(a){var c=b.sendMessage(a.body,a.url,{headers:a.headers});c.then(a.onSuccess,function(b){a.onError(b,b)});return{abort:function(){c.cancel()}}};var g=new c.Cometd(a);
c.Utils.setTimeout=function(a,b,c){if(0===c)return h(a,b,c);p+=1;q[p]={func:function(){try{b()}catch(a){g._debug("Exception invoking timed function",b,a)}},execTime:n+c};return p};c.Utils.clearTimeout=function(a){delete q[a]};c.WebSocket=d.WebSocket;d.WebSocket.proxyClient=b;g.registerExtension("ack",new f);e.websocket&&g.registerTransport("websocket",new c.WebSocketTransport,0);g.registerTransport("long-polling",l,1);return g};l=m([],{BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async",logCometdLifecycle:!1,
logCometdSubscriptions:!1,constructor:function(a,b,c,h){this.remote=a;this.constructCometD=b||s;this.cometdProperties=h||{connectTimeout:5E3,maxBackoff:1E4,logLevel:"info",maxNetworkDelay:2E4,appendMessageTypeToURL:!1,autoBatch:!0};this._webSocket={"try":!0,connectedAtLeastOnce:!1};a=["maxNetworkDelay","connectTimeout","logLevel"];if(b=g.cometdProperties)for(h=0;h<a.length;h+=1){var f=a[h];void 0!==b[f]&&(this.cometdProperties[f]=b[f])}this.workerProxyAsyncClient=c||new d("remoteWorkerAsyncProducer");
var n=this;k.after(this.workerProxyAsyncClient,"onError",function(a){n.cometd&&(n.logCometdLifecycle&&e.info("MessageServiceAsync disconnecting cometd due to IFrame error."),n.cometd.disconnect());n.onConnectionError(a)},!0);this.subscriptions={};this.recentMessages=[];this._deferredCleanupFunction=function(){n._deferredCleanup=!1;n.recentMessages=[]}},onMessage:function(a){},onConnectionError:function(a){},connect:function(){this.routingHost=l.workerHostOverride||this.remote.getWorkerRoutingHost();
this.routingKey=this.remote.getWorkerRoutingKey();this.computeToken=this.remote.getComputeSessionId();this.workerProxyAsyncClient.setRemotePageHost(this.routingHost,this.routingKey,this.computeToken);var b={};l.enableWebsocket&&this._webSocket.try?b.websocket=!0:(b.websocket=!1,this._webSocket.try=!1);var c=this.constructCometD("messageService",this.workerProxyAsyncClient,b);this.cometd=c;this.logCometdLifecycle&&e.info("MessageServiceAsync constructing new cometd instance.");b=this._createOneShotMessagePromise("/meta/handshake");
this._createListenerForUnknownClient();var d=this,h=new a;b.then(function(a){d.logCometdLifecycle&&e.info("MessageServiceAsync cometd handshake successful.",a,c.getClientId(),c);c.isDisconnected()?(e.error("MessageServiceAsync cometd handshake successful but still disconnected!"),c.disconnect(),h.reject(a)):("websocket"===c.getTransport().getType()&&(d._webSocket.connectedAtLeastOnce=!0),h.resolve(a))},function(a){d.logCometdLifecycle&&e.info("MessageServiceAsync disconnecting cometd due to handshake failure.",
a,c.getClientId(),c);c.disconnect();if(a.request&&a.request.supportedConnectionTypes){var b=a.request.supportedConnectionTypes;1<b.length&&("websocket"===b[0]&&!d._webSocket.connectedAtLeastOnce)&&(d._webSocket.try=!1)}h.reject(a)});this.cometdProperties.url=this._getEndpoint();c.init(this.cometdProperties);return h.promise},disconnect:function(){this.logCometdLifecycle&&e.info("MessageServiceAsync disconnecting cometd due to disconnect call.",this.cometd.getClientId());var a=this._createOneShotMessagePromise("/meta/disconnect");
this.cometd.disconnect();return a},cleanup:function(){this.cometd&&(this.logCometdLifecycle&&e.info("MessageServiceAsync disconnecting cometd due to cleanup call.",this.cometd,this.cometd&&this.cometd.getClientId()),this.cometd.disconnect(),this.cometd=null)},delegateConnected:function(){return this.cometd?!this.cometd.isDisconnected():!1},doPublish:function(a,b){var c=this._createOneShotMessagePromise("/meta/publish");this.cometd.publish(this._getRequestChannel(a),b);return c},doSubscribe:function(a){this.logCometdSubscriptions&&
e.info("MessageServiceAsync subscribing cometd to channel: "+a);var b=this._createOneShotMessagePromise("/meta/subscribe");this.subscriptions[a]=this.cometd.subscribe(this._getRequestChannel(a),this,this._handleCometResponse);return b},doUnsubscribe:function(b){if(this.subscriptions[b]){this.logCometdSubscriptions&&e.info("MessageServiceAsync unsubscribing cometd from channel: "+b);var c=this._createOneShotMessagePromise("/meta/unsubscribe");this.cometd.unsubscribe(this.subscriptions[b]);delete this.subscriptions[b];
return c}return(new a).resolve({successful:!0})},doStartBatch:function(){this.cometd.startBatch()},doEndBatch:function(){this.cometd.endBatch()},doSetLatency:function(a){this.workerProxyAsyncClient.setLatency(a)},doSetErrorRate:function(a){this.workerProxyAsyncClient.setErrorRate(a)},_handleCometResponse:function(a){if(this._shouldHandleMessage(a))this.onMessage(this._stripBasePrefixAndConvertToJson(a))},_shouldHandleMessage:function(a){return!a.id&&0>this.recentMessages.indexOf(a)?(this.recentMessages.push(a),
this._deferRecentMessagesCleanup(),!0):!1},_deferRecentMessagesCleanup:function(){this._deferredCleanup||(this._deferredCleanup=setTimeout(this._deferredCleanupFunction,0))},_createOneShotMessagePromise:function(b){var c=new a;this._addOneShotListener(b,function(a){a.successful?c.resolve(a):(e.warn("Message failed: ",a),c.reject(a))});return c.promise},_addOneShotListener:function(a,b){var c=this,d=this.cometd,h;h=this.cometd.addListener(a,function(a){d.removeListener(h);b.apply(c,arguments)})},_createListenerForUnknownClient:function(){var a=
this.cometd,b=this;a.addListener("/meta/connect",function(c){!c.successful&&(c.advice&&"handshake"===c.advice.reconnect)&&(a.disconnect(),b.onConnectionError(c.error))})},_getEndpoint:function(){var a=this.routingHost+this.BASE_END_POINT;this.routingKey&&(a+="?routingkey\x3d"+this.routingKey);return a},_getRequestChannel:function(a){return this.BASE_PREFIX+a},_stripBasePrefixAndConvertToJson:function(a){return{channel:a.channel.substring(this.BASE_PREFIX.length),data:a.data}}});l.enableWebsocket=
!1;l.workerHostOverride=!1;0<=location.search.indexOf("websocket\x3don")&&(l.enableWebsocket=!0);return l})},"dojox/cometd/cometd":function(){define(function(){var m=this.org=this.org||{};m.cometd={};m.cometd.JSON={};m.cometd.JSON.toJSON=m.cometd.JSON.fromJSON=function(g){throw"Abstract";};m.cometd.Utils={};m.cometd.Utils.isString=function(g){return void 0===g||null===g?!1:"string"===typeof g||g instanceof String};m.cometd.Utils.isArray=function(g){return void 0===g||null===g?!1:g instanceof Array};
m.cometd.Utils.inArray=function(g,k){for(var b=0;b<k.length;++b)if(g===k[b])return b;return-1};m.cometd.Utils.setTimeout=function(g,k,b){return window.setTimeout(function(){try{k()}catch(a){g._debug("Exception invoking timed function",k,a)}},b)};m.cometd.Utils.clearTimeout=function(g){window.clearTimeout(g)};m.cometd.TransportRegistry=function(){var g=[],k={};this.getTransportTypes=function(){return g.slice(0)};this.findTransportTypes=function(b,a,c){for(var f=[],e=0;e<g.length;++e){var d=g[e];!0===
k[d].accept(b,a,c)&&f.push(d)}return f};this.negotiateTransport=function(b,a,c,f){for(var e=0;e<g.length;++e)for(var d=g[e],l=0;l<b.length;++l)if(d===b[l]){var h=k[d];if(!0===h.accept(a,c,f))return h}return null};this.add=function(b,a,c){for(var f=!1,e=0;e<g.length;++e)if(g[e]===b){f=!0;break}f||("number"!==typeof c?g.push(b):g.splice(c,0,b),k[b]=a);return!f};this.find=function(b){for(var a=0;a<g.length;++a)if(g[a]===b)return k[b];return null};this.remove=function(b){for(var a=0;a<g.length;++a)if(g[a]===
b)return g.splice(a,1),a=k[b],delete k[b],a;return null};this.clear=function(){g=[];k={}};this.reset=function(){for(var b=0;b<g.length;++b)k[g[b]].reset()}};m.cometd.Transport=function(){var g,k;this.registered=function(b,a){g=b;k=a};this.unregistered=function(){k=g=null};this._debug=function(){k._debug.apply(k,arguments)};this._mixin=function(){return k._mixin.apply(k,arguments)};this.getConfiguration=function(){return k.getConfiguration()};this.getAdvice=function(){return k.getAdvice()};this.setTimeout=
function(b,a){return m.cometd.Utils.setTimeout(k,b,a)};this.clearTimeout=function(b){m.cometd.Utils.clearTimeout(b)};this.convertToMessages=function(b){if(m.cometd.Utils.isString(b))try{return m.cometd.JSON.fromJSON(b)}catch(a){throw this._debug("Could not convert to JSON the following string",'"'+b+'"'),a;}if(m.cometd.Utils.isArray(b))return b;if(void 0===b||null===b)return[];if(b instanceof Object)return[b];throw"Conversion Error "+b+", typeof "+typeof b;};this.accept=function(b,a,c){throw"Abstract";
};this.getType=function(){return g};this.send=function(b,a){throw"Abstract";};this.reset=function(){this._debug("Transport",g,"reset")};this.abort=function(){this._debug("Transport",g,"aborted")};this.toString=function(){return this.getType()}};m.cometd.Transport.derive=function(g){function k(){}k.prototype=g;return new k};m.cometd.RequestTransport=function(){function g(a){for(;0<h.length;){var b=h[0],c=b[0],b=b[1];if(c.url===a.url&&c.sync===a.sync)h.shift(),a.messages=a.messages.concat(c.messages),
this._debug("Coalesced",c.messages.length,"messages from request",b.id);else break}}function k(a,b){this.transportSend(a,b);b.expired=!1;if(!a.sync){var c=this.getConfiguration().maxNetworkDelay,d=c;!0===b.metaConnect&&(d+=this.getAdvice().timeout);this._debug("Transport",this.getType(),"waiting at most",d,"ms for the response, maxNetworkDelay",c);var h=this;b.timeout=this.setTimeout(function(){b.expired=!0;b.xhr&&b.xhr.abort();var c="Request "+b.id+" of transport "+h.getType()+" exceeded "+d+" ms max network delay";
h._debug(c);h.complete(b,!1,b.metaConnect);a.onFailure(b.xhr,a.messages,"timeout",c)},d)}}function b(a){var b=++e,c={id:b,metaConnect:!1};l.length<this.getConfiguration().maxConnections-1?(l.push(c),k.call(this,a,c)):(this._debug("Transport",this.getType(),"queueing request",b,"envelope",a),h.push([a,c]))}function a(a,c){var d=m.cometd.Utils.inArray(a,l);0<=d&&l.splice(d,1);if(0<h.length){var d=h.shift(),e=d[0],f=d[1];this._debug("Transport dequeued request",f.id);if(c)this.getConfiguration().autoBatch&&
g.call(this,e),b.call(this,e),this._debug("Transport completed request",a.id,e);else{var k=this;this.setTimeout(function(){k.complete(f,!1,f.metaConnect);e.onFailure(f.xhr,e.messages,"error","Previous request failed")},0)}}}var c=new m.cometd.Transport,f=m.cometd.Transport.derive(c),e=0,d=null,l=[],h=[];f.complete=function(b,c,h){if(h){b=b.id;this._debug("Transport",this.getType(),"metaConnect complete, request",b);if(null!==d&&d.id!==b)throw"Longpoll request mismatch, completing request "+b;d=null}else a.call(this,
b,c)};f.transportSend=function(a,b){throw"Abstract";};f.transportSuccess=function(a,b,c){if(!b.expired)if(this.clearTimeout(b.timeout),this.complete(b,!0,b.metaConnect),c&&0<c.length)a.onSuccess(c);else a.onFailure(b.xhr,a.messages,"Empty HTTP response")};f.transportFailure=function(a,b,c,d){b.expired||(this.clearTimeout(b.timeout),this.complete(b,!1,b.metaConnect),a.onFailure(b.xhr,a.messages,c,d))};f.send=function(a,c){if(c){if(null!==d)throw"Concurrent metaConnect requests not allowed, request id\x3d"+
d.id+" not yet completed";var h=++e;this._debug("Transport",this.getType(),"metaConnect send, request",h,"envelope",a);h={id:h,metaConnect:!0};k.call(this,a,h);d=h}else b.call(this,a)};f.abort=function(){c.abort();for(var a=0;a<l.length;++a){var b=l[a];this._debug("Aborting request",b);b.xhr&&b.xhr.abort()}d&&(this._debug("Aborting metaConnect request",d),d.xhr&&d.xhr.abort());this.reset()};f.reset=function(){c.reset();d=null;l=[];h=[]};return f};m.cometd.LongPollingTransport=function(){var g=new m.cometd.RequestTransport,
k=m.cometd.Transport.derive(g),b=!0;k.accept=function(a,c,f){return b||!c};k.xhrSend=function(a){throw"Abstract";};k.transportSend=function(a,c){this._debug("Transport",this.getType(),"sending request",c.id,"envelope",a);var f=this;try{var e=!0;c.xhr=this.xhrSend({transport:this,url:a.url,sync:a.sync,headers:this.getConfiguration().requestHeaders,body:m.cometd.JSON.toJSON(a.messages),onSuccess:function(d){f._debug("Transport",f.getType(),"received response",d);var h=!1;try{var e=f.convertToMessages(d);
0===e.length?(b=!1,f.transportFailure(a,c,"no response",null)):(h=!0,f.transportSuccess(a,c,e))}catch(p){f._debug(p),h||(b=!1,f.transportFailure(a,c,"bad response",p))}},onError:function(d,h){b=!1;e?f.setTimeout(function(){f.transportFailure(a,c,d,h)},0):f.transportFailure(a,c,d,h)}});e=!1}catch(d){b=!1,this.setTimeout(function(){f.transportFailure(a,c,"error",d)},0)}};k.reset=function(){g.reset();b=!0};return k};m.cometd.CallbackPollingTransport=function(){var g=new m.cometd.RequestTransport,g=m.cometd.Transport.derive(g);
g.accept=function(g,b,a){return!0};g.jsonpSend=function(g){throw"Abstract";};g.transportSend=function(g,b){for(var a=this,c=0,f=g.messages.length,e=[];0<f;){var d=m.cometd.JSON.toJSON(g.messages.slice(c,c+f)),d=g.url.length+encodeURI(d).length;if(2E3<d){if(1===f){var l="Bayeux message too big ("+d+" bytes, max is 2000) for transport "+this.getType();this.setTimeout(function(){a.transportFailure(g,b,"error",l)},0);return}--f}else e.push(f),c+=f,f=g.messages.length-c}var h=g;if(1<e.length){c=0;f=e[0];
this._debug("Transport",this.getType(),"split",g.messages.length,"messages into",e.join(" + "));h=this._mixin(!1,{},g);h.messages=g.messages.slice(c,f);h.onSuccess=g.onSuccess;h.onFailure=g.onFailure;for(d=1;d<e.length;++d){var n=this._mixin(!1,{},g),c=f,f=f+e[d];n.messages=g.messages.slice(c,f);n.onSuccess=g.onSuccess;n.onFailure=g.onFailure;this.send(n,b.metaConnect)}}this._debug("Transport",this.getType(),"sending request",b.id,"envelope",h);try{var p=!0;this.jsonpSend({transport:this,url:h.url,
sync:h.sync,headers:this.getConfiguration().requestHeaders,body:m.cometd.JSON.toJSON(h.messages),onSuccess:function(c){var d=!1;try{var e=a.convertToMessages(c);0===e.length?a.transportFailure(h,b,"no response"):(d=!0,a.transportSuccess(h,b,e))}catch(f){a._debug(f),d||a.transportFailure(h,b,"bad response",f)}},onError:function(c,d){p?a.setTimeout(function(){a.transportFailure(h,b,c,d)},0):a.transportFailure(h,b,c,d)}});p=!1}catch(q){this.setTimeout(function(){a.transportFailure(h,b,"error",q)},0)}};
return g};m.cometd.WebSocketTransport=function(){function g(){var a=f.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",a);var b=this,c=null,d=f.getConfiguration().connectTimeout;0<d&&(c=this.setTimeout(function(){c=null;p||(b._debug("Transport",b.getType(),"timed out while connecting to URL",a,":",d,"ms"),b.onClose(1002,"Connect Timeout"))},d));var h=new m.cometd.WebSocket(a),e=function(a){var d=a?a.code:1E3;a=a?a.reason:void 0;b._debug("WebSocket closed",
d,"/",a,h);c&&(b.clearTimeout(c),c=null);if(h!==n)b._debug("Ignoring close event, WebSocket",n);else b.onClose(d,a)};h.onopen=function(){b._debug("WebSocket opened",h);c&&(b.clearTimeout(c),c=null);if(h!==n)b._debug("Ignoring open event, WebSocket",n);else b.onOpen()};h.onclose=e;h.onerror=function(){e({code:1002})};h.onmessage=function(a){b._debug("WebSocket message",a,h);if(h!==n)b._debug("Ignoring message event, WebSocket",n);else b.onMessage(a)};n=h;this._debug("Transport",this.getType(),"configured callbacks on",
h)}function k(a,b){var c=m.cometd.JSON.toJSON(a.messages);n.send(c);this._debug("Transport",this.getType(),"sent",a,"metaConnect \x3d",b);var d=c=this.getConfiguration().maxNetworkDelay;b&&(d+=this.getAdvice().timeout,q=!0);for(var e=[],f=0;f<a.messages.length;++f){var l=a.messages[f];if(l.id){e.push(l.id);var g=n;h[l.id]=this.setTimeout(function(){g&&g.close(1E3,"Timeout")},d)}}this._debug("Transport",this.getType(),"waiting at most",d,"ms for messages",e,"maxNetworkDelay",c,", timeouts:",h)}function b(a,
b){try{null===n?g.call(this):p&&k.call(this,a,b)}catch(c){var d=n;this.setTimeout(function(){a.onFailure(d,a.messages,"error",c)},0)}}var a=new m.cometd.Transport,c=m.cometd.Transport.derive(a),f,e=!0,d=!1,l={},h={},n=null,p=!1,q=!1,s;c.onOpen=function(){this._debug("Transport",this.getType(),"opened",n);d=p=!0;this._debug("Sending pending messages",l);for(var a in l){var b=l[a],c=b[0],b=b[1];s=c.onSuccess;k.call(this,c,b)}};c.onMessage=function(a){this._debug("Transport",this.getType(),"received websocket message",
a,n);var b=!1;a=this.convertToMessages(a.data);for(var c=[],d=0;d<a.length;++d){var e=a[d];if((/^\/meta\//.test(e.channel)||void 0===e.data)&&e.id){c.push(e.id);var f=h[e.id];f&&(this.clearTimeout(f),delete h[e.id],this._debug("Transport",this.getType(),"removed timeout for message",e.id,", timeouts",h))}"/meta/connect"===e.channel&&(q=!1);"/meta/disconnect"===e.channel&&!q&&(b=!0)}d=!1;for(e=0;e<c.length;++e){var g=c[e],p;for(p in l){var f=p.split(","),k=m.cometd.Utils.inArray(g,f);if(0<=k){d=!0;
f.splice(k,1);g=l[p][0];k=l[p][1];delete l[p];0<f.length&&(l[f.join(",")]=[g,k]);break}}}d&&this._debug("Transport",this.getType(),"removed envelope, envelopes",l);s.call(this,a);b&&n.close(1E3,"Disconnect")};c.onClose=function(a,b){this._debug("Transport",this.getType(),"closed",a,b,n);e=d;for(var c in h)this.clearTimeout(h[c]);h={};for(var f in l)c=l[f][0],l[f][1]&&(q=!1),c.onFailure(n,c.messages,"closed "+a+"/"+b);l={};null!==n&&p&&n.close(1E3,"Close");p=!1;n=null};c.registered=function(b,c){a.registered(b,
c);f=c};c.accept=function(a,b,c){return e&&!!m.cometd.WebSocket&&!1!==f.websocketEnabled};c.send=function(a,c){this._debug("Transport",this.getType(),"sending",a,"metaConnect \x3d",c);for(var d=[],h=0;h<a.messages.length;++h){var e=a.messages[h];e.id&&d.push(e.id)}l[d.join(",")]=[a,c];this._debug("Transport",this.getType(),"stored envelope, envelopes",l);b.call(this,a,c)};c.abort=function(){a.abort();if(null!==n)try{n.close(1001)}catch(b){this._debug(b)}this.reset()};c.reset=function(){a.reset();
null!==n&&p&&n.close(1E3,"Reset");e=!0;d=!1;h={};l={};n=null;p=!1;s=null};return c};m.cometd.Cometd=function(g){function k(a){return m.cometd.Utils.isString(a)}function b(a){return void 0===a||null===a?!1:"function"===typeof a}function a(a,c){if(window.console){var d=window.console[a];b(d)&&d.apply(window.console,c)}}function c(){for(var a in F)for(var b=F[a],c=b.length-1;0<=c;--c){var d=b[c];d&&!d.listener&&(b.splice(c,1),r._debug("Removed subscription",d,"for channel",a))}}function f(a){H!==a&&
(r._debug("Status",H,"-\x3e",a),H=a)}function e(){return"disconnecting"===H||"disconnected"===H}function d(a,c,d,h,e){try{return c.call(a,h)}catch(f){r._debug("Exception during execution of extension",d,f);a=r.onExtensionException;if(b(a)){r._debug("Invoking extension exception callback",d,f);try{a.call(r,f,d,e,h)}catch(l){r._info("Exception during execution of exception callback in extension",d,l)}}return h}}function l(a){for(var c=0;c<x.length&&!(void 0===a||null===a);++c){var h=x[c],e=h.extension.outgoing;
b(e)&&(h=d(h.extension,e,h.name,a,!0),a=void 0===h?a:h)}return a}function h(a,c){var d=F[a];if(d&&0<d.length)for(var h=d.length-1;0<=h;--h){var e=d[h];try{e.callback.call(e.scope,c)}catch(f){r._debug("Exception during notification",e,c,f);var l=r.onListenerException;if(b(l)){r._debug("Invoking listener exception callback",e,f);try{l.call(r,f,e.handle,e.listener,c)}catch(n){r._info("Exception during execution of listener callback",e,n)}}}}}function n(a,b){h(a,b);for(var c=a.split("/"),d=c.length-1,
e=d;0<e;--e){var f=c.slice(0,e).join("/")+"/*";e===d&&h(f,b);f+="*";h(f,b)}}function p(){null!==O&&m.cometd.Utils.clearTimeout(O);O=null}function q(a){p();var b=y.interval+w;r._debug("Function scheduled in",b,"ms, interval \x3d",y.interval,"backoff \x3d",w,a);O=m.cometd.Utils.setTimeout(r,a,b)}function s(a,c,d,h){for(var e=0;e<c.length;++e){var f=c[e];f.id=""+ ++ea;I&&(f.clientId=I);var n=void 0;b(f._callback)&&(n=f._callback,delete f._callback);f=l(f);void 0!==f&&null!==f?(c[e]=f,n&&(P[f.id]=n)):
c.splice(e--,1)}0!==c.length&&(e=u.url,u.appendMessageTypeToURL&&(e.match(/\/$/)||(e+="/"),h&&(e+=h)),a={url:e,sync:a,messages:c,onSuccess:function(a){try{V.call(r,a)}catch(b){r._debug("Exception during handling of messages",b)}},onFailure:function(a,b,c,d){try{Q.call(r,a,b,c,d)}catch(h){r._debug("Exception during handling of failure",h)}}},r._debug("Send",a),A.send(a,d))}function v(a){0<G||!0===L?J.push(a):s(!1,[a],!1)}function t(){var a=J;J=[];0<a.length&&s(!1,a,!1)}function B(){f("connecting");
q(function(){if(!e()){var a={channel:"/meta/connect",connectionType:A.getType()};R||(a.advice={timeout:0});f("connecting");r._debug("Connect sent",a);s(!1,[a],!0,"connect");f("connected")}})}function K(a){a&&(y=r._mixin(!1,{},u.advice,a),r._debug("New advice",y))}function E(a){p();a&&A.abort();I=null;f("disconnected");w=G=0;0<J.length&&(Q.call(r,void 0,J,"error","Disconnected"),J=[])}function N(a){I=null;c();e()?(z.reset(),K(u.advice)):K(r._mixin(!1,y,{reconnect:"retry"}));G=0;L=!0;S=a;a=z.findTransportTypes("1.0",
M,u.url);var b=r._mixin(!1,{},S,{version:"1.0",minimumVersion:"0.9",channel:"/meta/handshake",supportedConnectionTypes:a,advice:{timeout:y.timeout,interval:y.interval}});A=z.negotiateTransport(a,"1.0",M,u.url);r._debug("Initial transport is",A.getType());f("handshaking");r._debug("Handshake sent",b);s(!1,[b],!1,"handshake")}function C(){f("handshaking");L=!0;q(function(){N(S)})}function D(a){n("/meta/handshake",a);n("/meta/unsuccessful",a);!e()&&"none"!==y.reconnect?(w<u.maxBackoff&&(w+=u.backoffIncrement),
C()):E(!1)}function U(a){n("/meta/connect",a);n("/meta/unsuccessful",a);a=e()?"none":y.reconnect;switch(a){case "retry":B();w<u.maxBackoff&&(w+=u.backoffIncrement);break;case "handshake":z.reset();w=0;C();break;case "none":E(!1);break;default:throw"Unrecognized advice action"+a;}}function W(a){E(!0);n("/meta/disconnect",a);n("/meta/unsuccessful",a)}function X(a){n("/meta/subscribe",a);n("/meta/unsuccessful",a)}function Y(a){n("/meta/unsubscribe",a);n("/meta/unsuccessful",a)}function Z(a){var c=P[a.id];
b(c)&&(delete P[a.id],c.call(r,a))}function $(a){Z(a);n("/meta/publish",a);n("/meta/unsuccessful",a)}function aa(a){for(var c=0;c<x.length&&!(void 0===a||null===a);++c){var h=x[u.reverseIncomingExtensions?x.length-1-c:c],f=h.extension.incoming;b(f)&&(h=d(h.extension,f,h.name,a,!1),a=void 0===h?a:h)}if(!(void 0===a||null===a))switch(K(a.advice),a.channel){case "/meta/handshake":if(a.successful){I=a.clientId;c=z.negotiateTransport(a.supportedConnectionTypes,a.version,M,u.url);if(null===c)throw"Could not negotiate transport with server; client "+
z.findTransportTypes(a.version,M,u.url)+", server "+a.supportedConnectionTypes;A!==c&&(r._debug("Transport",A,"-\x3e",c),A=c);L=!1;t();a.reestablish=T;T=!0;n("/meta/handshake",a);a=e()?"none":y.reconnect;switch(a){case "retry":w=0;B();break;case "none":E(!1);break;default:throw"Unrecognized advice action "+a;}}else D(a);break;case "/meta/connect":if(R=a.successful)switch(n("/meta/connect",a),a=e()?"none":y.reconnect,a){case "retry":w=0;B();break;case "none":E(!1);break;default:throw"Unrecognized advice action "+
a;}else U(a);break;case "/meta/disconnect":a.successful?(E(!1),n("/meta/disconnect",a)):W(a);break;case "/meta/subscribe":a.successful?n("/meta/subscribe",a):X(a);break;case "/meta/unsubscribe":a.successful?n("/meta/unsubscribe",a):Y(a);break;default:void 0===a.successful?void 0!==a.data&&null!==a.data?n(a.channel,a):r._debug("Unknown message",a):a.successful?(Z(a),n("/meta/publish",a)):$(a)}}function ba(a){if(a=F[a])for(var b=0;b<a.length;++b)if(a[b])return!0;return!1}function ca(a,c){var d={scope:a,
method:c};if(b(a))d.scope=void 0,d.method=a;else if(k(c)){if(!a)throw"Invalid scope "+a;d.method=a[c];if(!b(d.method))throw"Invalid callback "+c+" for scope "+a;}else if(!b(c))throw"Invalid callback "+c;return d}function da(a,b,c,d){b=ca(b,c);r._debug("Adding listener on",a,"with scope",b.scope,"and callback",b.method);d={channel:a,scope:b.scope,callback:b.method,listener:d};b=F[a];b||(b=[],b.subscriptionCounter=0,F[a]=b);b.push(d);c=b.subscriptionCounter;b.subscriptionCounter+=1;d.id=c;d.handle=
[a,c];r._debug("Added listener",d,"for channel",a,"having id \x3d",c);return d.handle}var r=this,fa=g||"default",M=!1,z=new m.cometd.TransportRegistry,A,H="disconnected",ea=0,I=null,G=0,J=[],L=!1,F={},w=0,O=null,x=[],y={},S,P={},T=!1,R=!1,u={connectTimeout:0,maxConnections:2,backoffIncrement:1E3,maxBackoff:6E4,logLevel:"info",reverseIncomingExtensions:!0,maxNetworkDelay:1E4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,advice:{timeout:6E4,interval:0,reconnect:"retry"}};this._mixin=function(a,
b,c){for(var d=b||{},h=2;h<arguments.length;++h){var e=arguments[h];if(!(void 0===e||null===e))for(var f in e){var l=e[f],n=d[f];l!==b&&void 0!==l&&(d[f]=a&&"object"===typeof l&&null!==l?l instanceof Array?this._mixin(a,n instanceof Array?n:[],l):this._mixin(a,"object"===typeof n&&!(n instanceof Array)?n:{},l):l)}}return d};this._warn=function(){a("warn",arguments)};this._info=function(){"warn"!==u.logLevel&&a("info",arguments)};this._debug=function(){"debug"===u.logLevel&&a("debug",arguments)};this._isCrossDomain=
function(a){return a&&a!==window.location.host};var V,Q;this.send=v;this.receive=aa;V=function(a){r._debug("Received",a);for(var b=0;b<a.length;++b)aa(a[b])};Q=function(a,b,c,d){r._debug("handleFailure",a,b,c,d);for(c=0;c<b.length;++c){var h=b[c];switch(h.channel){case "/meta/handshake":D({successful:!1,failure:!0,channel:"/meta/handshake",request:h,xhr:a,advice:{reconnect:"retry",interval:w}});break;case "/meta/connect":d=a;R=!1;U({successful:!1,failure:!0,channel:"/meta/connect",request:h,xhr:d,
advice:{reconnect:"retry",interval:w}});break;case "/meta/disconnect":W({successful:!1,failure:!0,channel:"/meta/disconnect",request:h,xhr:a,advice:{reconnect:"none",interval:0}});break;case "/meta/subscribe":X({successful:!1,failure:!0,channel:"/meta/subscribe",request:h,xhr:a,advice:{reconnect:"none",interval:0}});break;case "/meta/unsubscribe":Y({successful:!1,failure:!0,channel:"/meta/unsubscribe",request:h,xhr:a,advice:{reconnect:"none",interval:0}});break;default:$({successful:!1,failure:!0,
channel:h.channel,request:h,xhr:a,advice:{reconnect:"none",interval:0}})}}};this.registerTransport=function(a,c,d){if(d=z.add(a,c,d))this._debug("Registered transport",a),b(c.registered)&&c.registered(a,this);return d};this.getTransportTypes=function(){return z.getTransportTypes()};this.unregisterTransport=function(a){var c=z.remove(a);null!==c&&(this._debug("Unregistered transport",a),b(c.unregistered)&&c.unregistered());return c};this.unregisterTransports=function(){z.clear()};this.findTransport=
function(a){return z.find(a)};this.configure=function(a){r._debug("Configuring cometd object with",a);k(a)&&(a={url:a});a||(a={});u=r._mixin(!1,u,a);if(!u.url)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";var b=/(^https?:\/\/)?(((\[[^\]]+\])|([^:\/\?#]+))(:(\d+))?)?([^\?#]*)(.*)?/.exec(u.url);a=b[8];var c=b[9];M=r._isCrossDomain(b[2]);u.appendMessageTypeToURL&&(void 0!==c&&0<c.length?(r._info("Appending message type to URI "+a+c+" is not supported, disabling 'appendMessageTypeToURL' configuration"),
u.appendMessageTypeToURL=!1):(b=a.split("/"),c=b.length-1,a.match(/\/$/)&&(c-=1),0<=b[c].indexOf(".")&&(r._info("Appending message type to URI "+a+" is not supported, disabling 'appendMessageTypeToURL' configuration"),u.appendMessageTypeToURL=!1)))};this.init=function(a,b){this.configure(a);this.handshake(b)};this.handshake=function(a){f("disconnected");T=!1;N(a)};this.disconnect=function(a,b){if(!e()){void 0===b&&"boolean"!==typeof a&&(b=a,a=!1);var c=this._mixin(!1,{},b,{channel:"/meta/disconnect"});
f("disconnecting");s(!0===a,[c],!1,"disconnect")}};this.startBatch=function(){++G};this.endBatch=function(){--G;if(0>G)throw"Calls to startBatch() and endBatch() are not paired";0===G&&(!e()&&!L)&&t()};this.batch=function(a,b){var c=ca(a,b);this.startBatch();try{c.method.call(c.scope),this.endBatch()}catch(d){throw this._debug("Exception during execution of batch",d),this.endBatch(),d;}};this.addListener=function(a,b,c){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;
if(!k(a))throw"Illegal argument type: channel must be a string";return da(a,b,c,!0)};this.removeListener=function(a){if(!m.cometd.Utils.isArray(a))throw"Invalid argument: expected subscription, not "+a;var b=F[a[0]],c;if(0<b.length){c=a[1];a:{for(var d=0;d<b.length;){if(b[d].id===c){c=d;break a}d+=1}c=-1}-1!==c&&(b.splice(c,1),r._debug("Removed listener",a))}};this.clearListeners=function(){F={}};this.subscribe=function(a,c,d,h){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+
arguments.length;if(!k(a))throw"Illegal argument type: channel must be a string";if(e())throw"Illegal state: already disconnected";b(c)&&(h=d,d=c,c=void 0);var f=!ba(a),l=da(a,c,d,!1);f&&(f=this._mixin(!1,{},h,{channel:"/meta/subscribe",subscription:a}),v(f));return l};this.unsubscribe=function(a,b){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;if(e())throw"Illegal state: already disconnected";this.removeListener(a);var c=a[0];ba(c)||(c=this._mixin(!1,{},
b,{channel:"/meta/unsubscribe",subscription:c}),v(c))};this.clearSubscriptions=function(){c()};this.publish=function(a,c,d,h){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;if(!k(a))throw"Illegal argument type: channel must be a string";if(e())throw"Illegal state: already disconnected";b(c)?(h=c,c=d={}):b(d)&&(h=d,d={});var f=this._mixin(!1,{},d,{channel:a,data:c,_callback:h});v(f)};this.getStatus=function(){return H};this.isDisconnected=e;this.setBackoffIncrement=
function(a){u.backoffIncrement=a};this.getBackoffIncrement=function(){return u.backoffIncrement};this.getBackoffPeriod=function(){return w};this.setLogLevel=function(a){u.logLevel=a};this.registerExtension=function(a,c){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!k(a))throw"Illegal argument type: extension name must be a string";for(var d=!1,h=0;h<x.length;++h)if(x[h].name===a){d=!0;break}if(d)return this._info("Could not register extension with name",
a,"since another extension with the same name already exists"),!1;x.push({name:a,extension:c});this._debug("Registered extension",a);b(c.registered)&&c.registered(a,this);return!0};this.unregisterExtension=function(a){if(!k(a))throw"Illegal argument type: extension name must be a string";for(var c=!1,d=0;d<x.length;++d){var h=x[d];if(h.name===a){x.splice(d,1);c=!0;this._debug("Unregistered extension",a);a=h.extension;b(a.unregistered)&&a.unregistered();break}}return c};this.getExtension=function(a){for(var b=
0;b<x.length;++b){var c=x[b];if(c.name===a)return c.extension}return null};this.getName=function(){return fa};this.getClientId=function(){return I};this.getURL=function(){return u.url};this.getTransport=function(){return A};this.getConfiguration=function(){return this._mixin(!0,{},u)};this.getAdvice=function(){return this._mixin(!0,{},y)};m.cometd.WebSocket=window.WebSocket;m.cometd.WebSocket||(m.cometd.WebSocket=window.MozWebSocket)};return m.cometd})},"dojox/cometd/AckExtension":function(){define(["./cometd"],
function(m){return m.AckExtension=function(){var g,k=!1,b=-1;this.registered=function(a,b){g=b;g._debug("AckExtension: executing registration callback",void 0)};this.unregistered=function(){g._debug("AckExtension: executing unregistration callback",void 0);g=null};this.incoming=function(a){var c=a.channel;if("/meta/handshake"==c)k=a.ext&&a.ext.ack,g._debug("AckExtension: server supports acks",k);else if(k&&"/meta/connect"==c&&a.successful&&(c=a.ext)&&"number"===typeof c.ack)b=c.ack,g._debug("AckExtension: server sent ack id",
b);return a};this.outgoing=function(a){var c=a.channel;"/meta/handshake"==c?(a.ext||(a.ext={}),a.ext.ack=g&&!1!==g.ackEnabled,b=-1):k&&"/meta/connect"==c&&(a.ext||(a.ext={}),a.ext.ack=b,g._debug("AckExtension: client sending ack id",b));return a}}})},"mw-log/Log":function(){define(["dojo/date/locale"],function(m){return function(){function g(b){e&&(d||!c||!c.log)&&e.apply(a,b)}function k(b){f[b]=function(){if(0!==l&&c&&c[b])if("assert"===b){if(!arguments[0])if(a.ScriptEngine){var d=Array.prototype.slice.call(arguments);
d.shift();c[b](!1,d)}else c[b].apply(c,arguments)}else if(a.ScriptEngine)if(-1!==b.indexOf("profile"))c[b]();else c[b](arguments[0]);else c[b].apply(c,arguments)}}function b(b,d){f[d]=function(){var e=Array.prototype.slice.call(arguments),f=m.format(new Date,{selector:"date",datePattern:"h:m:s.SSS"}),k=[d].concat(e),e=[f].concat(e);h.push(k);h.length>n&&h.shift();g(k);if(c&&(0<l?l>b:p.length+l<=b))if(c.firebug&&"error"!==d)c[d].apply(a,e);else if(c[d])c[d](e);else c.log(e)}}var a=this,c=a.console,
f={},e,d,l=9,h=[],n=25,p=["error","warn","info","debug","log"],q="assert clear count dir dirxml exception group groupCollapsed groupEnd profile profileEnd table time timeEnd trace".split(" "),s;for(s=q.length;0<=(s-=1);)k(q[s]);for(s=p.length;0<=(s-=1);)b(s,p[s]);f.setLevel=function(a){l="number"===typeof a?a:9};f.setCallback=function(a,b,c){var f=h.length;e=a||null;d="boolean"===typeof b?b:!1;for(a=f-("number"===c?c:f);a<f;)g(h[a+=1])};return f}()})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),
function(m,g,k,b,a,c,f,e,d){function l(a,c,d,h){return h.replace(/([a-z])\1*/ig,function(e){var l,n,g=e.charAt(0);e=e.length;var k=["abbr","wide","narrow"];switch(g){case "G":l=c[4>e?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":l=a.getFullYear();switch(e){case 1:break;case 2:if(!d.fullYear){l=String(l);l=l.substr(l.length-2);break}default:n=!0}break;case "Q":case "q":l=Math.ceil((a.getMonth()+1)/3);n=!0;break;case "M":case "L":l=a.getMonth();3>e?(l+=1,n=!0):(g=["months","L"==g?"standAlone":
"format",k[e-3]].join("-"),l=c[g][l]);break;case "w":l=p._getWeekOfYear(a,0);n=!0;break;case "d":l=a.getDate();n=!0;break;case "D":l=p._getDayOfYear(a);n=!0;break;case "e":case "c":if(l=a.getDay(),2>e){l=(l-b.getFirstDayOfWeek(d.locale)+8)%7;break}case "E":l=a.getDay();3>e?(l+=1,n=!0):(g=["days","c"==g?"standAlone":"format",k[e-3]].join("-"),l=c[g][l]);break;case "a":g=12>a.getHours()?"am":"pm";l=d[g]||c["dayPeriods-format-wide-"+g];break;case "h":case "H":case "K":case "k":n=a.getHours();switch(g){case "h":l=
n%12||12;break;case "H":l=n;break;case "K":l=n%12;break;case "k":l=n||24}n=!0;break;case "m":l=a.getMinutes();n=!0;break;case "s":l=a.getSeconds();n=!0;break;case "S":l=Math.round(a.getMilliseconds()*Math.pow(10,e-3));n=!0;break;case "v":case "z":if(l=p._getZone(a,!0,d))break;e=4;case "Z":g=p._getZone(a,!1,d);g=[0>=g?"+":"-",f.pad(Math.floor(Math.abs(g)/60),2),f.pad(Math.abs(g)%60,2)];4==e&&(g.splice(0,0,"GMT"),g.splice(3,0,":"));l=g.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+
h);}n&&(l=f.pad(l,e));return l})}function h(a,b,c,d){var h=function(a){return a};b=b||h;c=c||h;d=d||h;var e=a.match(/(''|[^'])+/g),f="'"==a.charAt(0);g.forEach(e,function(a,d){a?(e[d]=(f?c:b)(a.replace(/''/g,"'")),f=!f):e[d]=""});return d(e.join(""))}function n(a,b,d,h){h=c.escapeString(h);d.strict||(h=h.replace(" a"," ?a"));return h.replace(/([a-z])\1*/ig,function(c){var h;h=c.charAt(0);var e=c.length,f="",l="";d.strict?(1<e&&(f="0{"+(e-1)+"}"),2<e&&(l="0{"+(e-2)+"}")):(f="0?",l="0{0,2}");switch(h){case "y":h=
"\\d{2,4}";break;case "M":case "L":h=2<e?"\\S+?":"1[0-2]|"+f+"[1-9]";break;case "D":h="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+f+"[1-9][0-9]|"+l+"[1-9]";break;case "d":h="3[01]|[12]\\d|"+f+"[1-9]";break;case "w":h="[1-4][0-9]|5[0-3]|"+f+"[1-9]";break;case "E":case "e":case "c":h=".+?";break;case "h":h="1[0-2]|"+f+"[1-9]";break;case "k":h="1[01]|"+f+"\\d";break;case "H":h="1\\d|2[0-3]|"+f+"\\d";break;case "K":h="1\\d|2[0-4]|"+f+"[1-9]";break;case "m":case "s":h="[0-5]\\d";break;case "S":h="\\d{"+e+"}";
break;case "a":e=d.am||b["dayPeriods-format-wide-am"];f=d.pm||b["dayPeriods-format-wide-pm"];h=e+"|"+f;d.strict||(e!=e.toLowerCase()&&(h+="|"+e.toLowerCase()),f!=f.toLowerCase()&&(h+="|"+f.toLowerCase()),-1!=h.indexOf(".")&&(h+="|"+h.replace(/\./g,"")));h=h.replace(/\./g,"\\.");break;default:h=".*"}a&&a.push(c);return"("+h+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var p={};m.setObject(d.id.replace(/\//g,"."),p);p._getZone=function(a,b,c){return b?k.getTimezoneName(a):a.getTimezoneOffset()};p.format=
function(b,c){c=c||{};var d=a.normalizeLocale(c.locale),e=c.formatLength||"short",d=p._getGregorianBundle(d),f=[],n=m.hitch(this,l,b,d,c);if("year"==c.selector)return h(d["dateFormatItem-yyyy"]||"yyyy",n);var g;"date"!=c.selector&&(g=c.timePattern||d["timeFormat-"+e])&&f.push(h(g,n));"time"!=c.selector&&(g=c.datePattern||d["dateFormat-"+e])&&f.push(h(g,n));return 1==f.length?f[0]:d["dateTimeFormat-"+e].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,b){return f[b]})};p.regexp=function(a){return p._parseInfo(a).regexp};
p._parseInfo=function(b){b=b||{};var c=a.normalizeLocale(b.locale),c=p._getGregorianBundle(c),d=b.formatLength||"short",e=b.datePattern||c["dateFormat-"+d],f=b.timePattern||c["timeFormat-"+d],d="date"==b.selector?e:"time"==b.selector?f:c["dateTimeFormat-"+d].replace(/\{(\d+)\}/g,function(a,b){return[f,e][b]}),l=[];return{regexp:h(d,m.hitch(this,n,l,c,b)),tokens:l,bundle:c}};p.parse=function(a,b){var c=/[\u200E\u200F\u202A\u202E]/g,d=p._parseInfo(b),h=d.tokens,e=d.bundle,c=RegExp("^"+d.regexp.replace(c,
"")+"$",d.strict?"":"i").exec(a&&a.replace(c,""));if(!c)return null;var f=["abbr","wide","narrow"],l=[1970,0,1,0,0,0,0],n="",c=g.every(c,function(a,c){if(!c)return!0;var d=h[c-1],p=d.length,d=d.charAt(0);switch(d){case "y":if(2!=p&&b.strict)l[0]=a;else if(100>a)a=Number(a),d=""+(new Date).getFullYear(),p=100*d.substring(0,2),d=Math.min(Number(d.substring(2,4))+20,99),l[0]=a<d?p+a:p-100+a;else{if(b.strict)return!1;l[0]=a}break;case "M":case "L":if(2<p){if(p=e["months-"+("L"==d?"standAlone":"format")+
"-"+f[p-3]].concat(),b.strict||(a=a.replace(".","").toLowerCase(),p=g.map(p,function(a){return a.replace(".","").toLowerCase()})),a=g.indexOf(p,a),-1==a)return!1}else a--;l[1]=a;break;case "E":case "e":case "c":p=e["days-"+("c"==d?"standAlone":"format")+"-"+f[p-3]].concat();b.strict||(a=a.toLowerCase(),p=g.map(p,function(a){return a.toLowerCase()}));a=g.indexOf(p,a);if(-1==a)return!1;break;case "D":l[1]=0;case "d":l[2]=a;break;case "a":p=b.am||e["dayPeriods-format-wide-am"];d=b.pm||e["dayPeriods-format-wide-pm"];
if(!b.strict){var k=/\./g;a=a.replace(k,"").toLowerCase();p=p.replace(k,"").toLowerCase();d=d.replace(k,"").toLowerCase()}if(b.strict&&a!=p&&a!=d)return!1;n=a==d?"p":a==p?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;l[3]=a;break;case "m":l[4]=a;break;case "s":l[5]=a;break;case "S":l[6]=a}return!0}),d=+l[3];"p"===n&&12>d?l[3]=d+12:"a"===n&&12==d&&(l[3]=0);d=new Date(l[0],l[1],l[2],l[3],l[4],l[5],l[6]);b.strict&&d.setFullYear(l[0]);var m=h.join(""),q=-1!=m.indexOf("d"),
m=-1!=m.indexOf("M");if(!c||m&&d.getMonth()>l[1]||q&&d.getDate()>l[2])return null;if(m&&d.getMonth()<l[1]||q&&d.getDate()<l[2])d=k.add(d,"hour",1);return d};var q=[],s={};p.addCustomFormats=function(a,b){q.push({pkg:a,name:b});s={}};p._getGregorianBundle=function(b){if(s[b])return s[b];var c={};g.forEach(q,function(d){d=a.getLocalization(d.pkg,d.name,b);c=m.mixin(c,d)},this);return s[b]=c};p.addCustomFormats(d.id.replace(/\/date\/locale$/,".cldr"),"gregorian");p.getNames=function(a,b,c,d){var h;d=
p._getGregorianBundle(d);a=[a,c,b];"standAlone"==c&&(c=a.join("-"),h=d[c],1==h[0]&&(h=void 0));a[1]="format";return(h||d[a.join("-")]).concat()};p.isWeekend=function(a,c){var d=b.getWeekend(c),h=(a||new Date).getDay();d.end<d.start&&(d.end+=7,h<d.start&&(h+=7));return h>=d.start&&h<=d.end};p._getDayOfYear=function(a){return k.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};p._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var c=(new Date(a.getFullYear(),0,1)).getDay(),d=Math.floor((p._getDayOfYear(a)+
(c-b+7)%7-1)/7);c==b&&d++;return d};return p})},"dojo/date":function(){define(["./has","./_base/lang"],function(m,g){var k={getDaysInMonth:function(b){var a=b.getMonth();return 1==a&&k.isLeapYear(b)?29:[31,28,31,30,31,30,31,31,30,31,30,31][a]},isLeapYear:function(b){b=b.getFullYear();return!(b%400)||!(b%4)&&!!(b%100)},getTimezoneName:function(b){var a=b.toString(),c="",f=a.indexOf("(");if(-1<f)c=a.substring(++f,a.indexOf(")"));else if(f=/([A-Z\/]+) \d{4}$/,a=a.match(f))c=a[1];else if(a=b.toLocaleString(),
f=/ ([A-Z\/]+)$/,a=a.match(f))c=a[1];return"AM"==c||"PM"==c?"":c},compare:function(b,a,c){b=new Date(+b);a=new Date(+(a||new Date));"date"==c?(b.setHours(0,0,0,0),a.setHours(0,0,0,0)):"time"==c&&(b.setFullYear(0,0,0),a.setFullYear(0,0,0));return b>a?1:b<a?-1:0},add:function(b,a,c){var f=new Date(+b),e=!1,d="Date";switch(a){case "day":break;case "weekday":var l;(a=c%5)?l=parseInt(c/5):(a=0<c?5:-5,l=0<c?(c-5)/5:(c+5)/5);var h=b.getDay(),n=0;6==h&&0<c?n=1:0==h&&0>c&&(n=-1);h+=a;if(0==h||6==h)n=0<c?2:
-2;c=7*l+a+n;break;case "year":d="FullYear";e=!0;break;case "week":c*=7;break;case "quarter":c*=3;case "month":e=!0;d="Month";break;default:d="UTC"+a.charAt(0).toUpperCase()+a.substring(1)+"s"}if(d)f["set"+d](f["get"+d]()+c);e&&f.getDate()<b.getDate()&&f.setDate(0);return f},difference:function(b,a,c){a=a||new Date;c=c||"day";var f=a.getFullYear()-b.getFullYear(),e=1;switch(c){case "quarter":b=b.getMonth();a=a.getMonth();b=Math.floor(b/3)+1;a=Math.floor(a/3)+1;e=a+4*f-b;break;case "weekday":f=Math.round(k.difference(b,
a,"day"));c=parseInt(k.difference(b,a,"week"));e=f%7;if(0==e)f=5*c;else{var d=0,l=b.getDay();a=a.getDay();c=parseInt(f/7);e=f%7;b=new Date(b);b.setDate(b.getDate()+7*c);b=b.getDay();if(0<f)switch(!0){case 6==l:d=-1;break;case 0==l:d=0;break;case 6==a:d=-1;break;case 0==a:d=-2;break;case 5<b+e:d=-2}else if(0>f)switch(!0){case 6==l:d=0;break;case 0==l:d=1;break;case 6==a:d=2;break;case 0==a:d=1;break;case 0>b+e:d=2}f=f+d-2*c}e=f;break;case "year":e=f;break;case "month":e=a.getMonth()-b.getMonth()+12*
f;break;case "week":e=parseInt(k.difference(b,a,"day")/7);break;case "day":e/=24;case "hour":e/=60;case "minute":e/=60;case "second":e/=1E3;case "millisecond":e*=a.getTime()-b.getTime()}return Math.round(e)}};g.mixin(g.getObject("dojo.date",!0),k);return k})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(m,g){var k={};m.setObject("dojo.cldr.supplemental",k);k.getFirstDayOfWeek=function(b){b={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,
qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[k._region(b)];return void 0===b?1:b};k._region=function(b){b=g.normalizeLocale(b);b=b.split("-");var a=b[1];a?4==a.length&&(a=b[2]):a={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",
as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",
ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",
sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",
bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",
guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",
luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",
sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",
yav:"cm",zza:"tr"}[b[0]];return a};k.getWeekend=function(b){var a=k._region(b);b={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[a];a={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[a];void 0===b&&(b=6);void 0===a&&(a=0);return{start:b,end:a}};return k})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(m,g){var k={};g.setObject("dojo.regexp",k);k.escapeString=function(b,
a){return b.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(b){return a&&-1!=a.indexOf(b)?b:"\\"+b})};k.buildGroupRE=function(b,a,c){if(!(b instanceof Array))return a(b);for(var f=[],e=0;e<b.length;e++)f.push(a(b[e]));return k.group(f.join("|"),c)};k.group=function(b,a){return"("+(a?"?:":"")+b+")"};return k})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(m,g){var k=/[&<>'"\/]/g,b={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},
a={};g.setObject("dojo.string",a);a.escape=function(a){return!a?"":a.replace(k,function(a){return b[a]})};a.rep=function(a,b){if(0>=b||!a)return"";for(var e=[];;){b&1&&e.push(a);if(!(b>>=1))break;a+=a}return e.join("")};a.pad=function(b,f,e,d){e||(e="0");b=String(b);f=a.rep(e,Math.ceil((f-b.length)/e.length));return d?b+f:f+b};a.substitute=function(a,b,e,d){d=d||m.global;e=e?g.hitch(d,e):function(a){return a};return a.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(a,c,n){if(""==c)return"$";
a=g.getObject(c,!1,b);n&&(a=g.getObject(n,!1,d).call(d,a,c));return e(a,c).toString()})};a.trim=String.prototype.trim?g.trim:function(a){a=a.replace(/^\s+/,"");for(var b=a.length-1;0<=b;b--)if(/\S/.test(a.charAt(b))){a=a.substring(0,b+1);break}return a};return a})},"dojo/cldr/nls/gregorian":function(){define({root:{"dateFormatItem-Ehm":"E h:mm a","days-standAlone-short":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"months-format-narrow":"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),"field-second-relative+0":"now",
"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-yQQQ":"y QQQ","dateFormatItem-yMEd":"y-MM-dd, E","field-wed-relative+0":"this Wednesday","field-wed-relative+1":"next Wednesday","dateFormatItem-GyMMMEd":"G y MMM d, E","dateFormatItem-MMMEd":"MMM d, E",eraNarrow:["BCE","CE"],"field-tue-relative+-1":"last Tuesday","days-format-short":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"y MMMM d",
"field-fri-relative+-1":"last Friday","field-wed-relative+-1":"last Wednesday","months-format-wide":"M01 M02 M03 M04 M05 M06 M07 M08 M09 M10 M11 M12".split(" "),"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"y MMMM d, EEEE","field-thu-relative+-1":"last Thursday","dateFormatItem-Md":"MM-dd","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dayPeriods-format-wide-noon":"noon","dateFormatItem-yMd":"y-MM-dd","field-era":"Era",
"dateFormatItem-yM":"y-MM","months-standAlone-wide":"M01 M02 M03 M04 M05 M06 M07 M08 M09 M10 M11 M12".split(" "),"timeFormat-short":"HH:mm","quarters-format-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-yQQQQ":"y QQQQ","timeFormat-long":"HH:mm:ss z","field-year":"Year","dateFormatItem-yMMM":"y MMM","dateTimeFormats-appendItem-Era":"{1} {0}","field-hour":"Hour","months-format-abbr":"M01 M02 M03 M04 M05 M06 M07 M08 M09 M10 M11 M12".split(" "),"field-sat-relative+0":"this Saturday","field-sat-relative+1":"next Saturday",
"timeFormat-full":"HH:mm:ss zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"today","field-thu-relative+0":"this Thursday","field-day-relative+1":"tomorrow","field-thu-relative+1":"next Thursday","dateFormatItem-GyMMMd":"G y MMM d","dateFormatItem-H":"HH","months-standAlone-abbr":"M01 M02 M03 M04 M05 M06 M07 M08 M09 M10 M11 M12".split(" "),"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-Gy":"G y","dateFormatItem-M":"L",
"days-standAlone-wide":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"dayPeriods-format-abbr-noon":"noon","timeFormat-medium":"HH:mm:ss","field-sun-relative+0":"this Sunday","dateFormatItem-Hm":"HH:mm","field-sun-relative+1":"next Sunday","quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],eraAbbr:["BCE","CE"],"field-minute":"Minute","field-dayperiod":"Dayperiod","days-standAlone-abbr":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1",
"2","3","4"],"field-day-relative+-1":"yesterday","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"a","dateFormatItem-h":"h a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"MM-dd, E","dateTimeFormat-full":"{1} {0}","field-fri-relative+0":"this Friday","field-fri-relative+1":"next Friday","field-day":"Day","days-format-wide":"Sun Mon Tue Wed Thu Fri Sat".split(" "),"field-zone":"Zone","months-standAlone-narrow":"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),"dateFormatItem-y":"y","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})",
"field-year-relative+-1":"last year","field-month-relative+-1":"last month","dateTimeFormats-appendItem-Year":"{1} {0}","dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dayPeriods-format-abbr-pm":"PM","days-format-abbr":"Sun Mon Tue Wed Thu Fri Sat".split(" "),eraNames:["BCE","CE"],"dateFormatItem-yMMMd":"y MMM d","days-format-narrow":"SMTWTFS".split(""),"field-month":"Month","days-standAlone-narrow":"SMTWTFS".split(""),"dateFormatItem-MMM":"LLL","field-tue-relative+0":"this Tuesday",
"dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","field-tue-relative+1":"next Tuesday","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormatItem-EHm":"E HH:mm","field-mon-relative+0":"this Monday","field-mon-relative+1":"next Monday","dateFormat-short":"y-MM-dd","dateFormatItem-EHms":"E HH:mm:ss","dateFormatItem-Ehms":"E h:mm:ss a","dayPeriods-format-narrow-noon":"n","field-second":"Second","field-sat-relative+-1":"last Saturday",
"dateFormatItem-yMMMEd":"y MMM d, E","field-sun-relative+-1":"last Sunday","field-month-relative+0":"this month","field-month-relative+1":"next month","dateTimeFormats-appendItem-Timezone":"{0} {1}","dateFormatItem-Ed":"d, E","field-week":"Week","dateFormat-medium":"y MMM d","field-week-relative+-1":"last week","field-year-relative+0":"this year","field-year-relative+1":"next year","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a",
"dateFormatItem-GyMMM":"G y MMM","field-mon-relative+-1":"last Monday","field-week-relative+0":"this week","field-week-relative+1":"next week"},ar:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,"en-au":!0,"en-ca":!0,"en-gb":!0,es:!0,fi:!0,fr:!0,"fr-ch":!0,he:!0,hr:!0,hu:!0,it:!0,ja:!0,ko:!0,mk:!0,nb:!0,nl:!0,pl:!0,pt:!0,"pt-pt":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,zh:!0,"zh-hant":!0,"zh-hk":!0,"zh-tw":!0})},"mw-remote/iframeproxy/IframeProxyClient":function(){define("dojo/_base/connect dojo/_base/declare dojo/_base/Deferred dojo/_base/json dojo/_base/lang dojo/aspect dojo/dom-construct mw-log/Log ./CheckUrlService".split(" "),
function(m,g,k,b,a,c,f,e,d){var l=g([],{IFRAME_TIMEOUT:2E4,LATEST_VERSION:"1.5",REMOTE_PROXY:"/remote/proxy/",constructor:function(a){this.iframeId=a||"remoteProducer";this._version=null;this._messageId=0;this._loaded=!1;this._pendingQueue=[];this._transactions={};this._uploadTargetCallbacks={};this._checkUrlTimeout=this._loadTimeoutHandle=this._checkUrl=null;this._errorRate=0},setRemotePageHost:function(a,b,c,d){a=this._combineUriPaths(a||"","/");b=b||"";d=d||"";this.computeToken=c;a===this._host&&
b===this._key&&d===this._proxyUrl||(this._errorLoading=this._loaded=!1,this._version=null,this._host=a,this._key=b,this._proxyUrl=d,this._setVersion("use_latest"))},_setVersion:function(a){if(!a||"use_latest"===a)a=this.LATEST_VERSION;this._loaded||a===this._version||(this._version=a,a=this._calculateUrls(this._host,this._key,a,this._proxyUrl),this._createIframe(a))},_calculateUrls:function(a,b,c,d){var e=this.REMOTE_PROXY+c+"/iframeProxyRelease.html";c=this.REMOTE_PROXY+c+"/CheckJsFile.js";d&&(e=
d);e=this._combineUriPaths(a,e).split("?")[0];e+=b?"?routingkey\x3d"+b:"";c=this._combineUriPaths(a,c);c=b?c+("?routingkey\x3d"+b):c+("?time\x3d"+(new Date).getTime());return{fastFailUrl:c,iFrameUrl:e}},_createIframe:function(a){var b=a.fastFailUrl,c=this;this._url=a.iFrameUrl;this.remoteIframe&&f.destroy(this.remoteIframe);this.remoteIframe=f.create("iframe",{id:this.iframeId,src:this._url,width:0,height:0,style:"visibility: hidden; display: none;"});document.body.appendChild(this.remoteIframe);
this._checkUrl=null;this._checkUrlTimeout=setTimeout(function(){c._checkUrl=(new d(b)).then(function(){c._checkUrl=null},function(a){c._checkUrl=null;"cancel"===a.dojoType||"CancelError"===a.name||c._handleLoadTimeoutHitch()})},0.15*this.IFRAME_TIMEOUT);this._loadTimeoutHandle=setTimeout(function(){c._handleLoadTimeoutHitch()},this.IFRAME_TIMEOUT);this._messageConnection||(this._messageConnection=m.connect(window,"message",this,this._handleMessage))},_handleLoadTimeoutHitch:function(){this._cleanupFailureChecks();
if(!this._loaded)if("1.0"===this._version)this._handleLoadTimeout();else{var a=(parseFloat(this._version)-0.1).toFixed(1).toString();e.info("Unable to load proxy version "+this._version+", trying "+a+".");this._setVersion(a)}},createUploadIframeTarget:function(b,c,d){this._uploadTargetCallbacks[b]=a.hitch(d||this,c);this._postMessage("createUploadIframe;"+b)},cancelUpload:function(a){this._postMessage("cancelUpload;"+a)},getUploadIframeProxyUrlPath:function(){return this.REMOTE_PROXY+this._version+
"/uploadIframeProxy.html"},sendMessage:function(a,c,d){var f=this,l;this.computeToken&&(d=d||{},d.headers=d.headers||{},d.headers.computeToken=this.computeToken);l=this._getNewMessageId();c="sendMessage;"+l+";"+c+";"+(d?b.toJson(d):"{}");c+=";"+a;a={deferred:new k(function(){"1.0"===f._version?e.warn("Cancelling is not supported by the 1.0 remote proxy."):f._postMessage("abort;"+l)}),id:l};this._errorLoading?a.deferred.reject("The iFrame did not load properly: "+this._url):(this._transactions[l]=
a,this._postMessage(c));return a.deferred},setLatency:function(a){this._latency=a},setErrorRate:function(a){this._errorRate=a},_postMessage:function(a){this._loaded?this._postMessageNow(a):this._pendingQueue.push(a)},_handleMessage:function(a){var b,c;if(a.source===this.remoteIframe.contentWindow){c=a.data.indexOf(";");b=a.data.substring(0,c);if(!b)throw Error("Client unable to parse message, no action specified: "+a.data);switch(b){case "ready":this._cleanupFailureChecks();this._loaded=!0;this._flushPending();
break;case "sendMessageResponse":this._sendMessageResponse(a,c);break;case "uploadIframeMessage":b=a.data.indexOf(";",c+1);c=a.data.substring(c+1,b);a=a.data.substring(b+1,a.data.length);this._uploadTargetCallbacks[c](a);break;case "websocketOpened":this.onWebsocketOpen();break;case "websocketClosed":a=a.data.substring(c+1,a.data.length);a=JSON.parse(a);this.onWebsocketClose(a);break;case "websocketMsg":a=a.data.substring(c+1,a.data.length);a=JSON.parse(a);this.onWebsocketMsg(a);break;case "websocketError":this.onWebsocketError();
break;default:throw Error("Unknown action: "+b+", data: "+a.data);}}},_sendMessageResponse:function(a,c){var d,e,f=a.data.indexOf(";",c+1);d=a.data.indexOf(";",f+1);var l=a.data.substring(c+1,f),f=a.data.substring(f+1,d),g=a.data.substring(d+1,a.data.length);if(!l||!f)throw Error("Invalid message from remote iframe: "+a.data);d=this._transactions[l];if(!d)throw Error("Unknown transaction id: "+l+", from remote iframe: "+a.data);delete this._transactions[l];if(!d.deferred.isCanceled())if("success"===
f){try{e=g&&b.fromJson(g)}catch(k){e=g}e=""===e?{}:e;d.deferred.resolve(e)}else this.onError(g),d.deferred.reject(g)},_cleanupFailureChecks:function(){this._checkUrlTimeout&&clearTimeout(this._checkUrlTimeout);this._loadTimeoutHandle&&clearTimeout(this._loadTimeoutHandle);this._checkUrl&&!this._checkUrl.isFulfilled()&&this._checkUrl.cancel("Timeout Occurred or iFrame Was Loaded before CheckUrl",!1);this._checkUrl=this._loadTimeoutHandle=this._checkUrlTimeout=null},_handleLoadTimeout:function(){var a,
b,c;if(!this._loaded){a={code:"IframeLoadTimeout",description:"Iframe proxy loading failed due to an HTTP error",message:""};c=this._transactions;this._transactions={};this._pendingQueue=[];for(b in c)c.hasOwnProperty(b)&&c[b].deferred.reject("Timeout while loading the iFrame "+this._url+" at "+new Date);this._errorLoading=!0;this.onError(a)}},_postMessageNow:function(a){function b(){if(0<c._errorRate&&Math.random()<c._errorRate&&0===a.indexOf("sendMessage;")){if(d=a.split(";",2)[1],f=c._transactions[d])delete c._transactions[d],
e.error("Generating simulated error. Request was: ",a),c.onError("403 Forbidden;403"),f.deferred.reject("403 Forbidden;403")}else c.remoteIframe.contentWindow.postMessage(a,c._url)}var c=this,d,f;this._latency?setTimeout(b,this._latency):b()},_flushPending:function(){this._pendingQueue.forEach(this._postMessageNow,this);this._pendingQueue=[]},_getNewMessageId:function(){this._messageId+=1;return this._messageId.toString()},onError:function(){},onWebsocketOpen:function(){},onWebsocketMsg:function(){},
onWebsocketClose:function(){},onWebsocketError:function(){},_combineUriPaths:function(){return Array.prototype.slice.call(arguments).reduce(function(a,b){if(0===a.length)return b;0<b.length&&("/"===b[0]&&a.lastIndexOf("/")===a.length-1?b=b.substring(1):"/"!==b[0]&&a.lastIndexOf("/")!==a.length-1&&(a+="/"));return a+b})}});l.WebSocket=g([],{constructor:function(a){var b=this;this.proxyClient=l.WebSocket.proxyClient;this.proxyClient.computeToken&&0<=a.indexOf("?")&&(a=a+"\x26computeToken\x3d"+this.proxyClient.computeToken);
this.proxyClient._postMessage("connectWebsocket;"+a);c.after(this.proxyClient,"onWebsocketOpen",function(){b.onopen.apply(b,arguments)},!0);c.after(this.proxyClient,"onWebsocketMsg",function(){b.onmessage.apply(b,arguments)},!0);c.after(this.proxyClient,"onWebsocketClose",function(){b.onclose.apply(b,arguments)},!0);c.after(this.proxyClient,"onWebsocketError",function(){b.onerror.apply(b,arguments)},!0)},onopen:function(){},onmessage:function(){},onclose:function(){},onerror:function(){},send:function(a){this.proxyClient._postMessage("websocketSend;"+
a)},close:function(){this.proxyClient._postMessage("closeWebsocket;")}});return l})},"mw-remote/iframeproxy/CheckUrlService":function(){define(["dojo/_base/declare","dojo/dom","dojo/on","dojo/request/script","mw-log/Log"],function(m,g,k,b,a){return function(c){var f,e,d;if(!c)throw Error("Expected a valid url in urlToEmptyJsFile");f={framedoc:null};e=b.get(c,f,!0);f=g.byId(e.id,f.frameDoc);d=k(f,"error",function(b){a.info("CheckUrlService detected an error accessing url: "+c);e.handleResponse(null,
b);d.remove()});return e.promise}})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),function(m,g,k,b,a,c,f,e,d,l,h){function n(a,b){a.canDelete&&t._remove(a.id,b.options.frameDoc,!0)}function p(b){D&&D.length&&(a.forEach(D,function(a){t._remove(a.id,a.frameDoc);a.frameDoc=null}),D=[]);return b.options.jsonp?!b.data:!0}function q(a){return!!this.scriptLoaded}function s(a){return(a=
a.options.checkString)&&eval("typeof("+a+') !\x3d\x3d "undefined"')}function v(a,b){if(this.canDelete){var c=this.response.options;D.push({id:this.id,frameDoc:c.ioArgs?c.ioArgs.frameDoc:c.frameDoc});c.ioArgs&&(c.ioArgs.frameDoc=null);c.frameDoc=null}b?this.reject(b):this.resolve(a)}function t(a,b,d){var e=k.parseArgs(a,k.deepCopy({},b));a=e.url;b=e.options;var h=k.deferred(e,n,p,b.jsonp?null:b.checkString?s:q,v);c.mixin(h,{id:B+K++,canDelete:!1});b.jsonp&&(RegExp("[?\x26]"+b.jsonp+"\x3d").test(a)||
(a+=(~a.indexOf("?")?"\x26":"?")+b.jsonp+"\x3d"+(b.frameDoc?"parent.":"")+B+"_callbacks."+h.id),h.canDelete=!0,C[h.id]=function(a){e.data=a;h.handleResponse(e)});k.notify&&k.notify.emit("send",e,h.promise.cancel);if(!b.canAttach||b.canAttach(h)){var l=t._attach(h.id,a,b.frameDoc);if(!b.jsonp&&!b.checkString)var m=f(l,E,function(a){if("load"===a.type||N.test(l.readyState))m.remove(),h.scriptLoaded=a})}f.once(l,"error",function(a){h.reject(a);t._remove(h.id,b.frameDoc,!0)});g(h);return d?h:h.promise}
l.add("script-readystatechange",function(a,b){return"undefined"!==typeof b.createElement("script").onreadystatechange&&("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var B=m.id.replace(/[\/\.\-]/g,"_"),K=0,E=l("script-readystatechange")?"readystatechange":"load",N=/complete|loaded/,C=b.global[B+"_callbacks"]={},D=[];t.get=t;t._attach=function(a,b,c){c=c||h.doc;var d=c.createElement("script");d.type="text/javascript";d.src=b;d.id=a;d.async=!0;d.charset="utf-8";return c.getElementsByTagName("head")[0].appendChild(d)};
t._remove=function(a,b,c){d.destroy(e.byId(a,b));C[a]&&(c?C[a]=function(){delete C[a]}:delete C[a])};t._callbacksProperty=B+"_callbacks";return t})},"mw-messageservice/messageserviceimpl/MessageServiceBase":function(){define("dojo/_base/declare dojo/_base/json dojo/_base/lang dojo/aspect dojo/Deferred mw-statemachine/StateMachine mw-log/Log ./MessageServiceState".split(" "),function(m,g,k,b,a,c,f,e){return m([e],{logSubscriptions:!1,constructor:function(){this.batching=!0;this.typeSerializers=[];
this.typeDeserializers={};this.channelSubscriptions={}},setDelegate:function(a){this.inherited("setDelegate",arguments);b.after(this._delegate,"onMessage",k.hitch(this,this.handleMessage),!0)},publish:function(a,b){if(this.isConnected()||"resubscribing"===this._currentState){var c=this._queuePublish(a,this.serialize(b));this._deferProcessQueue();return c}return this._queuePublish(a,this.serialize(b))},subscribe:function(a,b,c){this.logSubscriptions&&f.info("MessageService subscribe: "+a,b,c);this._addHandler(this.channelSubscriptions,
a,b,c);return this.isConnected()||"resubscribing"===this._currentState?(a=this._queueSubscribe(a,b,c),this._deferProcessQueue(),a):this._queueSubscribe(a,b,c)},unsubscribe:function(b,c,e){this.logSubscriptions&&f.info("MessageService unsubscribe: "+b,c,e);if(this._removeHandler(this.channelSubscriptions,b,c,e))return this.isConnected()||"resubscribing"===this._currentState?(b=this._queueUnsubscribe(b,c,e),this._deferProcessQueue(),b):(new a).resolve();f.error("Not subscribed to channel: "+b+", can't unsubscribe.");
return(new a).reject("Not subscribed to channel: "+b+", can't unsubscribe.")},flush:function(){if(this.isConnected())this._processQueue();else throw Error("Can only manually flush the queue when connected.");},setLatency:function(a){this._delegate&&this._delegate.doSetLatency&&this._delegate.doSetLatency(a)},setErrorRate:function(a){this._delegate&&this._delegate.doSetErrorRate&&this._delegate.doSetErrorRate(a)},_enterDisconnected:function(){this.inherited("_enterDisconnected",arguments);this._queuedOps=
[]},_enterConnecting:function(){this.inherited("_enterConnecting",arguments);Object.keys(this.channelSubscriptions).forEach(function(a){a.subscribed=!1})},_enterConnected:function(){this.inherited("_enterConnected",arguments);this._processQueue()},_enterDisconnecting:function(){this._processQueue();this.inherited("_enterDisconnecting",arguments)},_queuePublish:function(b,c){var e=new a;this._queuedOps.push({type:"publish",channel:b,data:c,deferred:e});return e.promise},_queueSubscribe:function(b,
c,e){var f=new a;this._queuedOps.push({type:"subscribe",channel:b,handler:c,scope:e,deferred:f});return f.promise},_queueUnsubscribe:function(b,c,e){for(var f=new a,g,k=0;k<this._queuedOps.length;k++)if(g=this._queuedOps[k],"subscribe"===g.type&&g.channel===b&&g.handler===c&&g.scope===e)return this._queuedOps.splice(k,1),g.deferred.resolve(),(new a).resolve();this._queuedOps.push({type:"unsubscribe",channel:b,handler:c,scope:e,deferred:f});return f.promise},_processQueue:function(){var a=this._delegate&&
this._delegate.delegateConnected();(!this.isConnected()||!a)&&"disconnecting"!==this._currentState||(this._delegate.doStartBatch(),a=this._queuedOps,this._queuedOps=[],a.forEach(function(a){var b;"publish"===a.type?b=this._delegate.doPublish(a.channel,a.data):"subscribe"===a.type?b=this._doSubscribe(a.channel,a.handler,a.scope):"unsubscribe"===a.type&&(b=this._doUnsubscribe(a.channel,a.handler,a.scope));b.then(a.deferred.resolve,a.deferred.reject)},this),this._delegate.doEndBatch())},_deferProcessQueue:function(){if(this.batching&&
!this._deferredTimeout){var a=this;this._deferredTimeout=setTimeout(function(){a._deferredTimeout=!1;a._processQueue()},0)}else this.batching||this._processQueue()},_doSubscribe:function(b){if(this.channelSubscriptions[b].subscribed)return(new a).resolve();var c=this._delegate.doSubscribe(b);this.channelSubscriptions[b].subscribed=!0;return c},_doUnsubscribe:function(b){return this.channelSubscriptions[b]?(new a).resolve():this._delegate.doUnsubscribe(b)},handleMessage:function(a){var b;if(a&&a.channel){a.data&&
(a.data=this.deserialize(a.data));var c=a.channel.split("/");for(b=1;b<=c.length;b+=1)this._callHandlers(this.channelSubscriptions,c.slice(0,b).concat("**").join("/"),a);this._callHandlers(this.channelSubscriptions,c.slice(0,c.length-1).concat("*").join("/"),a);this._callHandlers(this.channelSubscriptions,c.concat("*").join("/"),a);this._callHandlers(this.channelSubscriptions,a.channel,a)}},registerMessageHandler:function(a,b,c){f.error("registerMessageHandler is not supported any more.")},deregisterMessageHandler:function(a,
b,c){f.error("deregisterMessageHandler is not supported any more.")},registerTypeSerializer:function(a,b,c){this.typeSerializers.push({typeMatcher:a,type:b,serializer:c})},registerTypeDeserializer:function(a,b){this.typeDeserializers[a]=b},serialize:function(a){return k.isArray(a)?this._serializeArray(a):a instanceof Number||a instanceof Boolean||k.isString(a)?a:this._serializeObject(a)},deserialize:function(a){return k.isArray(a)?this._deserializeArray(a):a instanceof Number||a instanceof Boolean||
k.isString(a)?a:this._deserializeObject(a)},_addHandler:function(a,b,c,e){var g;e=e||this;"string"===typeof c&&"function"!==typeof e[c]?f.warn("Not adding invalid handler: "+c):(g=a[b],g||(g=[],a[b]=g),a={channel:b,handler:c,scope:e},g.push(a),g.sort(function(a){return a.exclusive?-1:0}))},_removeHandler:function(a,b,c,e){var f;f=a[b];c=this._getHandlerIndex(f,{handler:c,scope:e||this});0<=c&&f.splice(c,1);(!f||0===f.length)&&delete a[b];return 0<=c},_callHandlers:function(a,b,c){var e;if(a.hasOwnProperty(b)){a=
a[b];for(e=0;e<a.length;e+=1)try{"string"===typeof a[e].handler?a[e].scope[a[e].handler].call(a[e].scope,c):a[e].handler.call(a[e].scope,c)}catch(k){f.error("Error while executing message handler on channel: "+b+", message: "+g.toJson(c)+", error: ",k)}}},_getHandlerIndex:function(a,b){if(!a)return-1;var c;for(c=0;c<a.length;c+=1)if(b.handler===a[c].handler&&b.scope===a[c].scope)return c;return-1},_serializeObject:function(a){var b,c;for(c=0;c<this.typeSerializers.length;c+=1){var e=this.typeSerializers[c];
if(e.typeMatcher(a))return{__type__:e.type,__value__:e.serializer.call(this,a)}}if(a instanceof Image)return a;for(b in a)a.hasOwnProperty(b)&&(a[b]=this.serialize(a[b]));return a},_serializeArray:function(a){var b,c=a.length;for(b=0;b<c;b+=1)a[b]=this.serialize(a[b]);return a},_deserializeObject:function(a){var b;if(void 0===a||null===a)return null;if(a.hasOwnProperty("__type__")&&a.hasOwnProperty("__value__"))try{return this.typeDeserializers[a.__type__].call(this,a.__value__)}catch(c){f.error("Error while trying to deserialize: ",
a,"Error: ",c)}for(b in a)a.hasOwnProperty(b)&&(null!==a[b]&&void 0!==a[b])&&(a[b]=this.deserialize(a[b]));return a},_deserializeArray:function(a){var b,c=a.length;for(b=0;b<c;b+=1)a[b]=this.deserialize(a[b]);return a}})})},"mw-statemachine/StateMachine":function(){define(["dojo/_base/declare","./statemachineimpl/State"],function(m,g){return m([],{constructor:function(k){k.stateMachine=this;this.state=new g(k)},start:function(){this.state.enter()},stop:function(){this.state.exit()},_changeState:function(g,
b){this.state.enter(g,b)},onEnterState:function(g){},onExitState:function(g){}})})},"mw-statemachine/statemachineimpl/State":function(){define("dojo/_base/declare dojo/_base/lang mw-log/Log ./EventTrigger ./MessageTrigger ./RemoteTrigger ./TimeoutTrigger ./Transition".split(" "),function(m,g,k,b,a,c,f,e){var d;return d=m([],{constructor:function(a){this.stateMachine=a.stateMachine||{_changeState:function(){},onEnterState:function(){},onExitState:function(){}};this.namespace=a.namespace||"";this.name=
a.name||this.getDefaultName();this.context=a.context||{};this.data=a.data||{};this.composition=a.composition||"XOR";this.defaultSubstate=a.defaultSubstate||"";this.constructSubstates(a.substates);this.constructTriggersAndTransitions(a.transitions);this.active=a.active||!1},getDefaultName:function(){var a;0<this.namespace.length?(a=this.namespace.split("."),a=a.pop()):k.warn("State: state name is not specified.");return a||""},constructSubstates:function(a){var b={},c,e;for(c in a)a.hasOwnProperty(c)&&
(e=a[c],e.name&&e.name!==c&&k.error("State: error constructing substate: "+c+", the specified names don't match: "+e.name),e.name=c,e.namespace=e.namespace||[this.namespace,this.name].join("."),e.stateMachine=e.stateMachine||this.stateMachine,e.context=e.context||this.context,b[e.name]=new d(e));this.substates=b},constructTriggersAndTransitions:function(a){var b,c={},e=[],d;for(b in a)a.hasOwnProperty(b)&&((d=this.constructTrigger(b))&&e.push(d),c[b]=this.constructTransition(b,a[b]));this.transitions=
c;this.triggers=e},constructTrigger:function(e){var d,n,k;d=e.split(" ");if(2===d.length)"subscribe"===d[0]?k=a:"response"===d[0]||"fault"===d[0]?k=c:"timeout"===d[0]&&(k=f);else if("onEnterState"!==e||"onExitState"!==e)k=b;k&&(n=new k({name:e,context:this.context,triggerHandler:g.hitch(this,this.handleTrigger)}));return n},constructTransition:function(a,b){var c;if(g.isFunction(b)||g.isString(b)||g.isArray(b))"onEnterState"===a||"onExitState"===a?(c=b,b={},b.action=c,b.target=""):(c=b,b={},b.target=
c);b.state=this;return new e(b)},enter:function(a,b){this.active||(this.active=!0,this.enableTriggers(),this.stateMachine.onEnterState(this.name),this.handleTrigger.apply(this,["onEnterState"].concat(b)));a?this.changeSubstates(a,b):this.changeToDefaultSubstate(b)},exit:function(){var a=this.activeSubstates();this.active=!1;this.disableTriggers();a.forEach(function(a){a.exit()});this.handleTrigger("onExitState");this.stateMachine.onExitState(this.name)},enableTriggers:function(){this.triggers.forEach(function(a){a.enable()})},
disableTriggers:function(){this.triggers.forEach(function(a){a.disable()})},handleTrigger:function(a){var b,c;if(this.transitions[a]&&(c=Array.prototype.slice.call(arguments,1,arguments.length),b=this.transitions[a].handleTrigger(a,c)))g.isString(b)||(c=b.args,b=b.target),this.stateMachine._changeState(b,c)},changeSubstates:function(a,b){var c=this.activeSubstates();this.substates[a]&&(0<=c.length&&c[0].name!==a&&c.forEach(function(a){a.exit()}),this.substates[a].enter(void 0,b))},changeToDefaultSubstate:function(a){0===
this.activeSubstates().length&&this.substates[this.defaultSubstate]&&this.substates[this.defaultSubstate].enter(void 0,a)},activeSubstates:function(){var a=[],b;for(b in this.substates)this.substates.hasOwnProperty(b)&&this.substates[b].active&&a.push(this.substates[b]);return a}})})},"mw-statemachine/statemachineimpl/EventTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","mw-log/Log","./Trigger"],function(m,g,k,b,a){return m(a,{constructor:function(){this.connection=
{}},enable:function(){g.isFunction(this.context[this.name])&&(this.cachedFunction=this.context[this.name]);this.connection=k.after(this.context,this.name,g.hitch(null,this.triggerHandler,this.name),!0)},disable:function(){this.connection.remove();this.cachedFunction&&(this.context[this.name]=this.cachedFunction)}})})},"mw-statemachine/statemachineimpl/Trigger":function(){define(["dojo/_base/declare"],function(m){return m([],{constructor:function(g){this.name="";this.context={};this.triggerHandler=
g.triggerHandler||function(){};m.safeMixin(this,g)},enable:function(){},disable:function(){}})})},"mw-statemachine/statemachineimpl/MessageTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/topic","mw-log/Log","./Trigger"],function(m,g,k,b,a){return m(a,{constructor:function(){var a=this.name.split(" ");(2>a.length||"subscribe"!==a[0])&&b.error("Invalid trigger name for a MessageTrigger. Could not parse out the message name.");this.messageId=a[1]||"";this.subscrition={}},enable:function(){this.subscription=
k.subscribe(this.messageId,g.hitch(null,this.triggerHandler,this.name))},disable:function(){this.subscription.remove()}})})},"mw-statemachine/statemachineimpl/RemoteTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log","mw-remote/Remote","./Trigger"],function(m,g,k,b,a){return m(a,{constructor:function(){var a=this.name.split(" ");(2>a.length||"response"!==a[0]&&"fault"!==a[0])&&k.error("Invalid trigger name for a RemoteTrigger. Could not parse out the type of handler.");
(!b.registerResponseHandler||!b.registerFaultHandler)&&k.error("The remote package is not available, this type of trigger will not work.");this.messageId=a[1]||"";this.handlerType=a[0]},enable:function(){"response"===this.handlerType?b.registerResponseHandler(this.messageId,g.hitch(null,this.triggerHandler,this.name)):b.registerFaultHandler(this.messageId,g.hitch(null,this.triggerHandler,this.name))},disable:function(){"response"===this.handlerType?b.deregisterResponseHandler(this.messageId):b.deregisterFaultHandler(this.messageId)}})})},
"mw-remote/Remote":function(){define("dojo/_base/lang dojo/aspect ./iframeproxy/IframeProxyClient ./iframeproxy/IframeJsonTransaction ./impl/FaultManager ./impl/RequestManager ./impl/ResponseManager ./impl/Transaction ./RemoteEndPointsManager mw-log/Log ./serviceRegistryLookup!".split(" "),function(m,g,k,b,a,c,f,e,d,l,h){var n;n={reset:function(){var p=[],q=new a,s=new f({faultManager:q}),v=new c({responseManager:s});n.faultManager=q;n.responseManager=s;n.requestManager=v;n._serviceRegistryLookup=
h;n._uploadIframeProxyUrlParameters=["?computeToken\x3d","","\x26routingkey\x3d",""];var t=n.proxyClient=new k;n.createUploadIframeTarget=m.hitch(t,t.createUploadIframeTarget);n.cancelUpload=m.hitch(t,t.cancelUpload);d.setIframeProxyClientForEndPoint(d.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,t);d.setIframeProxyClientForEndPoint(d.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,t);e.construct=function(a){a=a||{};d.getRoutingHost(d.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT)||n.setEndpoint();
a.allowedMessages=p;a.sendMessage=n.sendMessage;a.computeSessionId=n.getComputeSessionId;return new b(a)};n.registerEndpointLevelFaultHandler=m.hitch(q,q.registerEndpointLevelFaultHandler);n.sendMessage=m.hitch(v,v.sendMessage);n.registerDefaultMessageFactory=m.hitch(v,v.registerDefaultMessageFactory);n.deregisterDefaultMessageFactory=m.hitch(v,v.deregisterDefaultMessageFactory);n.registerResponseHandler=m.hitch(s,s.registerResponseHandler);n.deregisterResponseHandler=m.hitch(s,s.deregisterResponseHandler);
n.registerFaultHandler=m.hitch(q,q.registerFaultHandler);n.deregisterFaultHandler=m.hitch(q,q.deregisterFaultHandler);n.registerTopLevelFaultHandler=m.hitch(q,q.registerTopLevelFaultHandler);n.deregisterTopLevelFaultHandler=m.hitch(q,q.deregisterTopLevelFaultHandler);n.setServiceEndPoint=function(a,b,c){d.setRoutingHostAndRoutingKey(a,b,c)};n.setServicePathSuffixForEndPoint=function(a,b){d.setPathSuffixForEndPoint(a,b)};n.ignoreTopLevelFault=n.registerTopLevelFaultHandler;n.setComputeToken=function(a){n._uploadIframeProxyUrlParameters[1]=
a.computeSessionId;v.computeToken=a};n.setWorkerEndpoint=function(a,b){n._uploadIframeProxyUrlParameters[3]=b;d.setRoutingHostAndRoutingKey(d.getEndPointNames().WORKER_ENDPOINT,a,b)};n.setEndpoint=function(a){a||(a=n._serviceRegistryLookup.getServiceRegistryEndpoint("primary"),a||(l.info("ServiceRegistryLookup is empty, falling back to localhost"),a="/"));if(!a||"/"===a)if(a=(document.getElementsByTagName("base")[0]||{}).href,void 0!==a){var b=document.createElement("a");b.display="none";b.href=a;
a=b.protocol+"//"+b.hostname+(b.port?":"+b.port:"")+"/"}else a=window.location.protocol+"//"+window.location.host+"/";d.setRoutingHostAndRoutingKey(d.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,a);d.setRoutingHostAndRoutingKey(d.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,a);t.setRemotePageHost(a)};n.setAllowedMessages=function(a){p=a};n.allowAllMessages=function(){p=[]};n.getEndPoint=function(){return d.getRoutingHost(d.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT)};n.getUploadIframeProxyUrl=
function(){var a=n.getWorkerRoutingHost();"/"===a.slice(-1)&&(a=a.slice(0,-1));return a+t.getUploadIframeProxyUrlPath()+n._uploadIframeProxyUrlParameters.join("")};n.getComputeSessionId=function(){return v.computeToken?v.computeToken.computeSessionId:null};n.getWorkerRoutingHost=function(){var a=d.getRoutingHost(d.getEndPointNames().WORKER_ENDPOINT);if(a)return a;a=(document.getElementsByTagName("base")[0]||{}).href;if(void 0!==a){var b=document.createElement("a");b.display="none";b.href=a;return b.protocol+
"//"+b.hostname+(b.port?":"+b.port:"")+"/"}return location.protocol+"//"+location.host+"/"};n.getWorkerRoutingKey=function(){return d.getRoutingKey(d.getEndPointNames().WORKER_ENDPOINT)};n.getServiceRegistryEndpoint=function(a){return n._serviceRegistryLookup.getServiceRegistryEndpoint(a)};n.enableServerOnWorkerAsync=function(){d.enableEndPoint(d.getEndPointNames().WORKER_ASYNC_ENDPOINT)};n.disableServerOnWorkerAsync=function(){d.disableEndPoint(d.getEndPointNames().WORKER_ASYNC_ENDPOINT)};n.isServerOnWorkerAsyncEnabled=
function(){return d.isEndPointEnabled(d.getEndPointNames().WORKER_ASYNC_ENDPOINT)};n.enableServerOnWorker=function(){d.enableEndPoint(d.getEndPointNames().WORKER_ENDPOINT)};n.disableServerOnWorker=function(){d.disableEndPoint(d.getEndPointNames().WORKER_ENDPOINT)};n.isWorkerEndpointEnabled=function(){return d.isEndPointEnabled(d.getEndPointNames().WORKER_ENDPOINT)};n.setWorkerOnlyMessageTypes=function(a){d.setMessageTypesToEndPoint(d.getEndPointNames().WORKER_ENDPOINT,a)};g.after(t,"onError",function(a){a&&
q.handleNonTransactionFault(a)},!0)}};n.reset();return n})},"mw-remote/iframeproxy/IframeJsonTransaction":function(){define(["dojo/_base/declare","mw-remote/impl/JsonTransaction","mw-remote/RemoteEndPointsManager"],function(m,g,k){return m([g],{constructor:function(b){b=b||{};this.proxyClient=b.proxyClient;this.workerProxyClient=b.workerProxyClient;this.routingHost=b.routingHost;this.routingKey=b.routingKey;this.computeSessionId=b.computeSessionId},_doSend:function(b){return k.getIframeProxyClientForEndPoint(this.endPointName).sendMessage(b,
k.getRemoteUrlForEndPoint(this.endPointName))}})})},"mw-remote/impl/JsonTransaction":function(){define("dojo/_base/declare dojo/_base/xhr dojo/_base/json dojo/_base/lang mw-remote/RemoteEndPointsManager ./Transaction".split(" "),function(m,g,k,b,a,c){return m(c,{constructor:function(a){a=a||{};this.uuid=a.uuid||this._generateUuid()},_getRequest:function(b){var c=null;a.isEndpointMessageContainerBased(this.endPointName)?(c={uuid:this.uuid,messages:b},this.computeToken&&(c.computeToken=this.computeToken)):
Object.keys(b).forEach(function(a){c=b[a]});this._sanitizeForJson(c);return k.toJson(c)},_sanitizeForJson:function(a){var c;if(b.isArray(a))a.forEach(this._sanitizeForJson,this);else if(b.isObject(a))for(c in a)a.hasOwnProperty(c)&&(void 0===a[c]?delete a[c]:(b.isObject(a[c])||b.isArray(a[c]))&&this._sanitizeForJson(a[c]))},_doSend:function(a){return g.post({url:this._getEndpoint(),contentType:"application/json",handleAs:"json",postData:a})},_processResponse:function(a){this.stopTime=(new Date).getTime();
a?(a.fault&&(this.fault=a.fault),this.responseMessages=a.messages?a.messages:a):this.fault={faultCode:"Connection.Fault",message:"Unable to communicate with server, no response."}},_processFault:function(a){this.stopTime=(new Date).getTime();this.fault={faultCode:"Connection.Fault",message:a}}})})},"mw-remote/RemoteEndPointsManager":function(){define(["./EndPointsManager"],function(m){var g=null;null===g&&(g=new m);return g})},"mw-remote/EndPointsManager":function(){define(["dojo/_base/declare","dojo/_base/array",
"./iframeproxy/IframeProxyClient"],function(m,g,k){return m([],{constructor:function(){this._initializeEndPointsCollection()},_initializeEndPointsCollection:function(){this.endPointsCollection={ROUTER_LEAF_INSECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json",messages:"RouterLogin CreateAccount CurrentUser Login UpdateAccount ServiceRegistry ClientType AuthorizationDetails AcquireMatlab".split(" "),iframeProxyName:"remoteProducer",
acceptsMessageContainerMessages:!0},ROUTER_LEAF_SECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0},WORKER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!1,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteWorkerProducer",acceptsMessageContainerMessages:!0},WORKER_ASYNC_ENDPOINT:{routingHost:"",
routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/async",messages:[],acceptsMessageContainerMessages:!0},USAGE_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"udc/service/v1/events",messages:["UsageDataEventCollection"],iframeProxyName:"remoteUDCProducer",acceptsMessageContainerMessages:!1},HELP_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"",
messages:["HelpDataEventCollection"],iframeProxyName:"doc_center",acceptsMessageContainerMessages:!1}}},reset:function(){this._initializeEndPointsCollection()},setUpNewEndPoint:function(b,a,c,f,e){this.endPointsCollection[b]={routingHost:"",routingKey:"",pathSuffix:c,enabled:a,messages:[],iframeProxy:null,iframeProxyName:f,acceptsMessageContainerMessages:e}},getPathSuffixForEndPoint:function(b){return this.endPointsCollection[b].pathSuffix},setPathSuffixForEndPoint:function(b,a){this.endPointsCollection[b].pathSuffix=
a},getEndPointNames:function(){var b={},a;for(a in this.endPointsCollection)this.endPointsCollection.hasOwnProperty(a)&&(b[a]=a);return b},setRoutingHostAndRoutingKey:function(b,a,c){a&&a.lastIndexOf("/")!==a.length-1&&(a+="/");this.endPointsCollection[b].routingHost=a;c&&(this.endPointsCollection[b].routingKey=c);a&&this._setIframeRoutingHostAndRoutingkey(b)},_setIframeRoutingHostAndRoutingkey:function(b){var a=this.getIframeProxyClientForEndPoint(b);a&&a.setRemotePageHost(this.endPointsCollection[b].routingHost,
this.endPointsCollection[b].routingKey,null,this.endPointsCollection[b].iframeProxyUrl)},getRoutingHost:function(b){return this.endPointsCollection[b].routingHost},getRoutingKey:function(b){return this.endPointsCollection[b].routingKey},getMessageTypesMappedToEndPoint:function(b){return this.endPointsCollection[b].messages},isEndPointEnabled:function(b){return this.endPointsCollection[b].enabled},setMessageTypesToEndPoint:function(b,a){this.endPointsCollection[b].messages=a},enableEndPoint:function(b){this.endPointsCollection[b].enabled=
!0},disableEndPoint:function(b){this.endPointsCollection[b].enabled=!1},getEndPointForMessageType:function(b){var a=null,c;for(c in this.endPointsCollection)if(this.endPointsCollection.hasOwnProperty(c)&&(a=-1<g.lastIndexOf(this.endPointsCollection[c].messages,b)?c:a))if(this.isEndPointEnabled(a))break;else a=null;return a?a:this.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT},getRemoteUrlForEndPoint:function(b){var a=this.endPointsCollection[b].routingHost+this.endPointsCollection[b].pathSuffix;
this.endPointsCollection[b].routingKey&&(a=a+"?routingkey\x3d"+this.endPointsCollection[b].routingKey);return a},setIframeProxyClientForEndPoint:function(b,a){this.endPointsCollection[b].iframeProxy=a},getIframeProxyClientForEndPoint:function(b){var a=this.endPointsCollection[b].iframeProxy;a||(a=new k(this.endPointsCollection[b].iframeProxyName),this.endPointsCollection[b].iframeProxy=a);return a},isEndpointMessageContainerBased:function(b){return b&&this.endPointsCollection[b]?this.endPointsCollection[b].acceptsMessageContainerMessages:
!0},addMessagesTypesToEndPoint:function(b,a){this.endPointsCollection[b]&&-1===this.endPointsCollection[b].messages.indexOf(a)&&this.endPointsCollection[b].messages.push(a)},removeMessageTypesFromEndPoint:function(b,a){if(this.endPointsCollection[b]){var c=this.endPointsCollection[b].messages.indexOf(a);-1<c&&this.endPointsCollection[b].messages.splice(c,1)}}})})},"mw-remote/impl/Transaction":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","mw-remote/RemoteEndPointsManager",
"mw-utils/Utils"],function(m,g,k,b,a){return m([],{constructor:function(a){a=a||{};this.requestMessages=a.requestMessages||{};this.responseMessages=a.responseMessages||{};this.context=a.context;this.computeToken=a.computeToken;this.uuidClassifierMap=a.uuidClassifierMap||{};this.endPointName=a.endPointName||null;this.allowedMessages=a.allowedMessages||[];this.ignoreMessageTypes=a.ignoreMessageTypes||[];this.sendMessage=a.sendMessage},addRequestMessage:function(a,f,e){if(f){var d=b.isEndpointMessageContainerBased(this.endPointName);
this.requestMessages[a]||(this.requestMessages[a]=[]);k.isArray(f)?f.forEach(function(b){this.addRequestMessage(a,b,e)},this):d?(f.uuid=f.uuid||this._generateUuid(),e&&(this.uuidClassifierMap[f.uuid]=e),this.requestMessages[a].push(f)):this.requestMessages[a]=f;this.requestMessages=this._filterMessages(this.requestMessages)}},_filterMessages:function(a){var b={};this.getRequestMessageTypes().forEach(function(e){if(0===this.allowedMessages.length||0<=this.allowedMessages.indexOf(e))b[e]=a[e]},this);
return b},getResponseMessageTypes:function(){var a,b=[];for(a in this.responseMessages)this.responseMessages.hasOwnProperty(a)&&b.push(a);return b},getRequestMessageTypes:function(){var a,b=[];for(a in this.requestMessages)this.requestMessages.hasOwnProperty(a)&&b.push(a);return b},getMessageClassifier:function(a){return a&&a.uuid&&this.uuidClassifierMap.hasOwnProperty(a.uuid)?this.uuidClassifierMap[a.uuid]:""},send:function(){this._removeEmptyMessages();this._isEmpty(this.requestMessages)?(this.deferred=
new g,this.deferred.callback()):(this.startTime=(new Date).getTime(),this.deferred=this._doSend(this._getRequest(this.requestMessages)),this.deferred.addCallback(this,this._processResponse),this.deferred.addErrback(this,this._processFault))},addIgnoreMessageType:function(a,b){if(-1<this.getRequestMessageTypes().indexOf(a))if(b)for(var e in this.uuidClassifierMap)this.uuidClassifierMap.hasOwnProperty(e)&&(b&&this.uuidClassifierMap[e]===b)&&this.ignoreMessageTypes.push(a+":"+b);else this.ignoreMessageTypes.push(a)},
_removeEmptyMessages:function(){if(!this._isEmpty(this.requestMessages))for(var b in this.requestMessages)this.requestMessages.hasOwnProperty(b)&&k.isArray(this.requestMessages[b])&&0===a.getArrayLength(this.requestMessages[b])&&delete this.requestMessages[b]},_isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},_generateUuid:function(){return a.generateUuid()}})})},"mw-utils/Utils":function(){define(["dojo/_base/lang","dojo/_base/window","mw-utils/deprecation"],function(m,
g,k){return{generateUuid:function(){return"xxxxxxxx".replace(/[xy]/g,function(b){var a=16*Math.random()|0;return("x"===b?a:a&3|8).toString(16)}).toUpperCase()},isImageData:function(b){return!!b&&(g.global.ImageData&&b instanceof g.global.ImageData||b.hasOwnProperty("width")&&b.hasOwnProperty("height")&&b.hasOwnProperty("data"))},isArray:function(b){k.deprecated({deprecated:{module:"MW/utils/Utils",method:"isArray"},geckNumber:1444368});return Array.isArray(b)},getArrayLength:function(b){var a=0;if(!m.isArray(b))return!1;
b.forEach(function(b){b&&(a+=1)});return a},isWhitespace:function(b){return/^\s+$/.test(b)},removeSurroundingNewLines:function(b){for(;"\n"===b.charAt(0);)b=b.substring(1);for(;"\n"===b.charAt(b.length-1);)b=b.substring(0,b.length-1);return b},getFirstUniqueElement:function(b,a){var c=null;a.some(function(a){if(-1===b.indexOf(a))return c=a,!0});return c},unionOfWordSets:function(b,a,c){b=this._stringToArray(b);a=this._stringToArray(a);b=this.unionOfArrays(b,a);return c?b.join(" "):b},intersectionOfWordSets:function(b,
a,c){b=this._stringToArray(b);a=this._stringToArray(a);b=this.intersectionOfArrays(b,a);return c?b.join(" "):b},differenceOfWordSets:function(b,a,c){b=this._stringToArray(b);a=this._stringToArray(a);b=this.unique(this.differenceOfArrays(b,a));return c?b.join(" "):b},unionOfArrays:function(b,a){return this.unique(b.concat(a))},intersectionOfArrays:function(b,a){return this.nonunique(b.concat(a))},differenceOfArrays:function(b,a){if(void 0===window.Map)return this._legacyDifferenceOfArrays(b,a);var c,
f,e,d=new Map,g=[];for(e=0;e<a.length;e++)d.set(a[e],null);for(e=0;e<b.length;e++)f=b[e],(c=d.has(f))||g.push(f);return g},_legacyDifferenceOfArrays:function(b,a){return this.unique(b.filter(function(b){return-1===a.indexOf(b)}))},unique:function(b){return b.filter(function(a,c){return b.indexOf(a)===c})},nonunique:function(b){return this.unique(b.filter(function(a,c){return b.indexOf(a)!==c}))},arrayEquals:function(b,a,c){if(b===a)return!0;if(b.length!==a.length)return!1;c||(c=function(a,b){return a===
b});for(var f=0,e=b.length;f<e;f++)if(!c(b[f],a[f]))return!1;return!0},removeEmptyElements:function(b){return b.filter(function(a){return!(""===a||null===a||void 0===a)})},_stringToArray:function(b){return!this._isString(b)?b:this.removeEmptyElements(b.split(" "))},_isString:function(b){return"string"===typeof b||b instanceof String}}})},"mw-utils/deprecation":function(){var m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"===
typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};define(["dojo/_base/config","mw-log/Log"],function(g,k){var b={deprecated:function(a){var b,f;if((g.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(a))f=window.showDeprecationsAsErrors||a.deprecationLevel===this.ERROR?this.ERROR:this.WARN,b="DEPRECATED: ",a.deprecated&&(b+=a.deprecated.module,a.deprecated.method&&(b+="."+a.deprecated.method+"()"),b+="."),a.replacement&&(b+=" Use "+a.replacement.module,a.replacement.method&&
(b+="."+a.replacement.method+"()"),b+=" instead."),a.removalVersion&&(b+=" Will be removed in version: "+a.removalVersion+"."),a.geckNumber&&(b+=" Please use g"+a.geckNumber+" to track latest information regarding this deprecation"),a.additionalInformation&&(b+=" "+a.additionalInformation),k[f](b)},_isConfigValid:function(a){var b=!!a.deprecated&&"object"===m(a.deprecated)&&a.deprecated.hasOwnProperty("module");a.replacement&&(b=b&&"object"===m(a.replacement)&&a.replacement.hasOwnProperty("module"));
a.geckNumber&&(b=b&&"number"===typeof a.geckNumber);b||k.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");return b}};Object.defineProperties(b,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}});return b})},"mw-remote/impl/FaultManager":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","mw-remote/RemoteEndPointsManager"],function(m,g,k,b){return g([],
{constructor:function(a){a=a||{};this.faultHandlers=a.faultHandlers||{};this.topLevelHandlers=a.topLevelHandlers||[];this.endPointLevelHandlers=a.endPointLevelHandlers||{}},registerFaultHandler:function(a,b,f){f&&(b=k.hitch(f,b));this.faultHandlers[a]=b},deregisterFaultHandler:function(a){delete this.faultHandlers[a]},registerTopLevelFaultHandler:function(a,b,f){f&&(b=k.hitch(f,b));if(k.isString(a)){if("*"===a)return a={matcher:a,handler:b},this.defaultTopLevelHandler=b,a;a=this._constructMatcherFromQuery(a)}a=
{matcher:a,handler:b};this.topLevelHandlers.push(a);return a},registerEndpointLevelFaultHandler:function(a,b,f,e){e&&(f=k.hitch(e,f));k.isString(b)&&(b=this._constructMatcherFromQuery(b));b={matcher:b,handler:f};this.endPointLevelHandlers[a]||(this.endPointLevelHandlers[a]=[]);this.endPointLevelHandlers[a].push(b);return b},deregisterTopLevelFaultHandler:function(a){var b=this.topLevelHandlers.indexOf(a);-1<b?this.topLevelHandlers.splice(b,1):"*"===a.matcher&&delete this.defaultTopLevelHandler},_constructMatcherFromQuery:function(a){var b=
[];a.split("||").forEach(function(a){a=k.trim(a);a=a.replace(/([\.])/g,"\\$1");a=a.replace(/\*/g,".*");b.push(RegExp("^"+a+"$"))});return function(a){return m.some(b,function(b){return b.test(a.faultCode||a.code||"")})}},handleFault:function(a){var b,f=function(b,c){var e;if(e=a.getMessageClassifier(c))if(e=[b,e].join(":"),this.faultHandlers[e])this.faultHandlers[e](a.fault,a.context)};for(b in a.requestMessages)if(a.requestMessages.hasOwnProperty(b)){if(this.faultHandlers[b])this.faultHandlers[b](a.fault,
a.context);var e=a.requestMessages[b];Array.isArray(e)&&e.forEach(k.hitch(this,f,b))}if(this.faultHandlers["*"])this.faultHandlers["*"](a.fault,a.context);this.endPointLevelHandlers[a.endPointName]?this._handleEndpointLevelFault(a):this._handleTopLevelFault(a)},_handleEndpointLevelFault:function(a){var b=!1,f=m.filter(this.endPointLevelHandlers[a.endPointName],function(b){return b.matcher.call(this,a.fault,a.context)},this);0<f.length&&f[0].handler&&(b=!0,f[0].handler.call(this,a.fault,a.context,
a));return b},_handleTopLevelFault:function(a){var b=m.filter(this.topLevelHandlers,function(b){return b.matcher.call(this,a.fault,a.context)},this);(b=0<b.length?b[0].handler:this.defaultTopLevelHandler)&&b.call(this,a.fault,a.context,a)},handleNonTransactionFault:function(a){var b=m.filter(this.topLevelHandlers,function(b){return b.matcher.call(this,a)},this);(b=0<b.length?b[0].handler:this.defaultTopLevelHandler)&&b.call(this,a)}})})},"mw-remote/impl/RequestManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/lang mw-remote/RemoteEndPointsManager mw-remote/defaultMessageMapping ./Transaction".split(" "),
function(m,g,k,b,a,c,f){return g([],{defaultMapping:c,constructor:function(a){a=a||{};this.defaultFactories=a.defaultFactories||{};this.mockHandlers=a.mockHandlers||{};this.mapping=a.mapping||this.defaultMapping;this.responseManager=a.responseManager},registerDefaultMessageFactory:function(a,c,f){f&&(c=b.hitch(f,c));this.defaultFactories[a]=c},deregisterDefaultMessageFactory:function(a){delete this.defaultFactories[a]},registerMockResponseGenerator:function(a,c,g){var h=this;c=b.hitch(g||this,c);
this.mockHandlers[a]=function(a,b){var e,g=f.construct(b);e=c(a,g);e||(e=new k,e.callback());e.addCallback(function(){h.responseManager._processResult(g)})}},deregisterMockResponseGenerator:function(a){delete this.mockHandlers[a]},sendMessage:function(a,b,c){var f={},g={};b=b||{};this._createAndFillTransactions(a,b,c,f,g);a=Object.keys(f);for(b=0;b<a.length;b+=1)c=a[b],this._callMocks(g[c]),f[c].send(),this.responseManager.handleTransaction(f[c])},_getTransaction:function(a,b){return f.construct({context:b,
computeToken:this.computeToken,endPointName:a})},_getMockTransaction:function(a,b,c){return f.construct({context:b,computeToken:this.computeToken,endPointName:a,uuid:c})},_createAndFillTransactions:function(b,c,f,g,k){var m,q,s=function(b){var e,f,l,m,p;e=a.getEndPointForMessageType(b);m=g[e];p=k[e];m||(m=this._getTransaction(e,c),p=this._getMockTransaction(e,c,m.uuid),g[e]=m,k[e]=p);if(this.defaultFactories[b]&&(e=this.defaultFactories[b](m.context)))f=b.split(":"),l=f[0],f=f.slice(1,f.length).join(":"),
this.mockHandlers[b]||m.addRequestMessage(l,e,f),p.addRequestMessage(l,e,f)},v,t;for(m in b)b.hasOwnProperty(m)&&(q=a.getEndPointForMessageType(m),v=k[q],t=g[q],g[q]||(t=this._getTransaction(q,c),v=this._getMockTransaction(q,c,t.uuid),g[q]=t,k[q]=v),q=[m,f].join(":"),!this.mockHandlers[m]&&!this.mockHandlers[q]&&t.addRequestMessage(m,b[m],f),v.addRequestMessage(m,b[m],f),this.mapping[q]?this.mapping[q].forEach(s,this):this.mapping[m]&&this.mapping[m].forEach(s,this))},_callMocks:function(a){var c,
f,g=a.context;delete a.context;var k=function(a,b){var e;if(e=c.getMessageClassifier(b))if(e=[a,e].join(":"),this.mockHandlers[e])this.mockHandlers[e]([b],c)};for(f in a.requestMessages)if(a.requestMessages.hasOwnProperty(f)){c=b.mixin({},a);c.context=g;if(this.mockHandlers.hasOwnProperty(f))this.mockHandlers[f](c.requestMessages[f],c);Array.isArray(c.requestMessages[f])?c.requestMessages[f].forEach(b.hitch(this,k,f)):k(f,c.requestMessages[f])}if(this.mockHandlers["*"])this.mockHandlers["*"](f,c.requestMessages[f],
c)}})})},"mw-remote/defaultMessageMapping":function(){define([],function(){return{Eval:["CurrentFolder","ListFolder"],"Eval:Ping":[],"Eval:RunFile":["UpdateFile","CurrentFolder","ListFolder"],"Eval:MlsPublishPre":["UpdateFile"],"FEval:liveEvalInstrumentCode":[],Interrupt:[],"FEval:GetFigures":["CurrentFolder","ListFolder"],"FEval:CloseFigure":["FEval:GetFigures"],"FEval:SelectFigure":["FEval:GetFigures"],"FEval:ResetAxes":["FEval:GetFigures"],"FEval:ResizeFigure":["FEval:GetFigures"],"FEval:AxesInteraction2D":["FEval:GetFigures"],
"FEval:AxesInteraction3D":["FEval:GetFigures"],CurrentUser:["ServiceRegistry"],RouterLogin:["ServiceRegistry"],CurrentFolder:["ListFolder"],MoveFile:["CurrentFolder"],Variable:[],CloseFile:["SaveSession"],UpdateFile:["SaveSession"],SaveSession:["UpdateFile"],SaveSessionState:["UpdateFile"],Logout:["CloseFile"],UpdateShare:["ListFolder"],AcquireMatlab:["ServiceRegistry"]}})},"mw-remote/impl/ResponseManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/json dojo/_base/lang mw-log/Log mw-remote/RemoteEndPointsManager".split(" "),
function(m,g,k,b,a,c,f){return g([],{constructor:function(a){a=a||{};this.responseHandlers=a.responseHandlers||{};this.faultManager=a.faultManager;this.transactions=a.transactions||[]},registerResponseHandler:function(b,c,f){f&&(c=a.hitch(f,c));this.responseHandlers[b]=c},deregisterResponseHandler:function(a){delete this.responseHandlers[a]},handleTransaction:function(b){this.transactions.push(b);b.deferred.addCallback(a.hitch(this,this._processAll,b));b.deferred.addCallback(a.hitch(this,this._processResult,
b));b.deferred.addErrback(a.hitch(this,this._processAll,b));b.deferred.addErrback(a.hitch(this,this._processFault,b))},_processAll:function(a){a=this.transactions.indexOf(a);0<=a&&this.transactions.splice(a,1)},_processResult:function(a){a.getResponseMessageTypes().forEach(function(d){var f=a.responseMessages[d],g=[];try{if(Array.isArray(f)){f.forEach(function(b){var c,f=a.getMessageClassifier(b);if(f){c=[d,f].join(":");var k=this,l=!1;a.getRequestMessageTypes().forEach(function(d){d=a.requestMessages[d];
Array.isArray(d)?d.forEach(function(d){k.responseHandlers[c]&&d.uuid===b.uuid&&(k.responseHandlers[c]([b],a.context),l=!0)}):k.responseHandlers[c]&&d.uuid===b.uuid&&(k.responseHandlers[c]([b],a.context),l=!0)});l||g.push(b)}else g.push(b)},this);if(0<g.length&&this.responseHandlers[d])this.responseHandlers[d](g,a.context);if(this.responseHandlers["*"])this.responseHandlers["*"](d,a.responseMessages[d],a.context)}}catch(k){c.error("Remote: Fault occurred while processing response.\nMessage: "+k.message+
"\nType: "+d+"\nResponse: "+b.toJson(f))}},this);this._processUdcResponses(a);a.fault&&this.faultManager.handleFault(a)},_processUdcResponses:function(a){if(!f.isEndpointMessageContainerBased(a.endPointName)){var b=Object.keys(a.requestMessages)[0];if(this.responseHandlers[b])this.responseHandlers[b](a.responseMessages)}},_processFault:function(a){this.faultManager.handleFault(a)}})})},"mw-remote/serviceRegistryLookup":function(){define(["dojo/request/xhr","require"],function(m,g){var k=!1,b={_serviceData:{},
getServiceRegistryEndpoint:function(a){if(b._serviceData.serviceregistry){var c,f;c=b._serviceData.serviceregistry.length;for(f=0;f<c;f+=1)if(b._serviceData.serviceregistry[f].name===a)return b._serviceData.serviceregistry[f].endpoint}return""}};return{load:function(a,c,f){k?f(b):m("/serviceregistrylookup/1/service",{handleAs:"json",failOk:!0,method:"GET",timeout:15E3,sync:!c.async}).then(function(a){b._serviceData=a;k=!0;f(b)},function(a){b._serviceData={};k=!0;f(b)})}}})},"mw-statemachine/statemachineimpl/TimeoutTrigger":function(){define(["dojo/_base/declare",
"dojo/_base/lang","mw-log/Log","./Trigger"],function(m,g,k,b){return m(b,{constructor:function(){var a=this.name.split(" ");(2>a.length||"timeout"!==a[0])&&k.error("Invalid trigger name for a TimeoutTrigger. Could not parse out the type of handler.");this.timeoutInSeconds=parseFloat(a[1]);this.handlerType=a[0]},enable:function(){this.disable();this.timeoutHandle=setTimeout(g.hitch(null,this.triggerHandler,this.name),1E3*this.timeoutInSeconds)},disable:function(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),
this.timeoutHandle=null)}})})},"mw-statemachine/statemachineimpl/Transition":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log"],function(m,g,k){return m([],{constructor:function(b){this.state={};this.target="";this.action=this.condition=null;m.safeMixin(this,b)},handleTrigger:function(b,a){var c="";this.checkCondition(b,a)&&(this.runAction(b,a),c=this.getTarget(b,this.target,a));return c},checkCondition:function(b,a){return!this.condition?!0:g.hitch(this.state.context,this.condition).apply(null,
[b,this.state.data].concat(a))},runAction:function(b,a){var c;this.action&&(c=g.hitch(this.state.context,this.action),c.apply(null,[b,this.state.data].concat(a)))},getTarget:function(b,a,c){var f,e,d;if(g.isString(a))e=a;else if(g.isFunction(a))a=g.hitch(this.state.context,a),e=a.apply(null,[b,this.state.data].concat(c));else if(g.isArray(a))for(f=0;f<a.length;f+=1){e=this.getTarget(b,a[f],c);if(g.isString(e)){e={target:e};g.mixin(e,d);break}if(e&&e.target){g.mixin(e,d);break}d=e||{}}else k.warn("Transition: improper target: ",
a);return e}})})},"mw-messageservice/messageserviceimpl/MessageServiceState":function(){define("dojo/_base/declare dojo/Evented dojo/_base/lang dojo/aspect dojo/Deferred dojo/promise/all mw-statemachine/StateMachine mw-log/Log".split(" "),function(m,g,k,b,a,c,f,e){return m([g],{_MAX_RETRIES:30,logStateChanges:!1,constructor:function(){this._stateOptions={context:this,name:"WraDataService",namespace:"MOTW.wra",defaultSubstate:"disconnected",substates:{disconnected:{transitions:{onEnterState:this._enterDisconnected,
start:"connecting"}},connecting:{transitions:{onEnterState:this._enterConnecting,_connectSuccess:"resubscribing",_connectFailure:"reconnecting",stop:"disconnected"}},reconnecting:{transitions:{onEnterState:this._enterReconnecting,_connectSuccess:"resubscribing",_connectFailure:[this._retryFailure,"retryDelay"],stop:"disconnected"}},retryDelay:{transitions:{"timeout 2":"reconnecting",_reconnect:"reconnecting",stop:"disconnected"}},resubscribing:{transitions:{onEnterState:this._enterResubscribing,_resubscribeSuccess:"connected",
_resubscribeFailure:"reconnecting",stop:"disconnecting"}},connected:{transitions:{onEnterState:this._enterConnected,_reconnect:"reconnecting",stop:"disconnecting"}},disconnecting:{transitions:{onEnterState:this._enterDisconnecting,_disconnectSuccess:"disconnected",_disconnectFailure:"disconnected","timeout 2":"disconnected"}},fatallyDisconnected:{transitions:{onEnterState:this._enterFatallyDisconnected,stop:"disconnected"}}}}},setDelegate:function(a){if(this._delegate!==a){this._delegate=a;var c=
this;b.after(a,"onConnectionError",function(){e.warn("MessageService received connection error, reconnecting");c._reconnect()},!0);this._states=new f(this._stateOptions);b.after(this._states,"onEnterState",k.hitch(this,this._enterState),!0);this._states.start()}},onConnected:function(){this.emit("connected")},onNewlyConnected:function(){},onDisconnected:function(){this.emit("disconnected")},onReconnected:function(){this.emit("reconnected")},onFatallyDisconnected:function(){this.emit("fatallyDisconnected")},
onNotConnected:function(){this.emit("notConnected")},isStarted:function(){return"disconnecting"!==this._currentState&&"disconnected"!==this._currentState},isConnected:function(){return"connected"===this._currentState},isFatallyDisconnected:function(){return"fatallyDisconnected"===this._currentState},isDisconnected:function(){return"disconnected"===this._currentState},start:function(){},stop:function(){},_enterState:function(a){var b=this._currentState;this._currentState=a;this.logStateChanges&&e.info("MessageService state change: "+
b+" -\x3e "+a);if("connected"===b)this.onNotConnected();if("connected"===a&&this._previouslyConnected)this.onReconnected();else if("connected"===a&&!this._previouslyConnected)this.onNewlyConnected()},_enterDisconnected:function(){this._previouslyConnected=!1;this._delegate.cleanup();this.onDisconnected()},_enterConnecting:function(){this._retryCount=0;this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_enterReconnecting:function(){this._retryCount+=1;e.info("Reconnecting message service. Attempt "+
this._retryCount,arguments);this._delegate.cleanup();this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_reconnect:function(){},_connectSuccess:function(){},_connectFailure:function(){},_timeoutAction:function(){this.logStateChanges&&e.info("MessageService timeout:",arguments)},_retryFailure:function(){var a;this._retryCount>=this._MAX_RETRIES&&(e.error("Message service fatally disconnected."),a="fatallyDisconnected");return a},_enterResubscribing:function(){var a,b,e=[];this._delegate.doStartBatch();
for(a in this.channelSubscriptions)this.channelSubscriptions.hasOwnProperty(a)&&(b=this.channelSubscriptions[a],e.push(this._delegate.doSubscribe(a)),b.subscribed=!0);this._delegate.doEndBatch();c(e).then(this._resubscribeSuccess,this._resubscribeFailure)},_resubscribeSuccess:function(){},_resubscribeFailure:function(){},_enterConnected:function(){this._delegate.delegateConnected()?(this._retryCount=0,this._previouslyConnected&&e.info("Successfully connected."),this._previouslyConnected=!0,this.onConnected()):
this._reconnect()},_enterFatallyDisconnected:function(){this.onFatallyDisconnected()},_enterDisconnecting:function(){this._delegate.disconnect().then(this._disconnectSuccess,this._disconnectFailure)},_disconnectSuccess:function(){},_disconnectFailure:function(){}})})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(m,g,k){var b=m.some;return function(a){var c,f;a instanceof Array?f=a:a&&"object"===typeof a&&(c=a);var e,d=[];if(c){f=[];for(var l in c)Object.hasOwnProperty.call(c,
l)&&(d.push(l),f.push(c[l]));e={}}else f&&(e=[]);if(!f||!f.length)return(new g).resolve(e);var h=new g;h.promise.always(function(){e=d=null});var m=f.length;b(f,function(a,b){c||d.push(b);k(a,function(a){h.isFulfilled()||(e[d[b]]=a,0===--m&&h.resolve(e))},h.reject);return h.isFulfilled()});return h.promise}})},"mw-messageservice/messageserviceimpl/MessageServiceReqResp":function(){define(["dojo/_base/declare","dojo/Deferred","mw-log/Log"],function(m,g,k){return m([],{pollDelay:50,constructor:function(b,
a){this.remote=b;this.messageService=a;this.pending=0;b.registerDefaultMessageFactory("OpaqueMessage",function(){this.pending+=1;return{opaqueMessageDOs:[]}},this);b.registerResponseHandler("OpaqueMessageResponse",function(b){this.pending-=1;b.forEach(function(b){try{b.opaqueMessageDOs&&b.opaqueMessageDOs.forEach(a.handleMessage,a)}catch(c){k.error("Error while handling message: "+c)}});this.poll()},this)},onMessage:function(b){},onConnectionError:function(b){},connect:function(){this.enabled=!0;
this.poll();return(new g).resolve()},disconnect:function(){this.enabled=!1;this.timeout&&(clearTimeout(this.timeout),this.timeout=null);return(new g).resolve()},cleanup:function(){},poll:function(){if(this.enabled&&0===this.pending){var b=this;this.timeout=setTimeout(function(){b.pending+=1;b.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[]}});b.timeout=null},this.pollDelay)}},doPublish:function(b,a){clearTimeout(this.timeout);this.timeout=null;this.pending+=1;this.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[{channel:b,
data:a}]}})},doSubscribe:function(b){},doUnsubscribe:function(b){},doStartBatch:function(){},doEndBatch:function(){}})})}}});
define("InstallServiceHandler/LongRunningProcessMonitor",["dojo/_base/declare","dojo/_base/lang","dojo/aspect","mw-messageservice/MessageService"],function(m,g,k,b){return m(null,{_APPNAME:"LongRunningProcessMonitor",constructor:function(a,b,f){this._channelId=a;this._messageCallback=b;this._cancelCallback=void 0!==f?f:b;this._lrpChannel="/"+this._APPNAME+"/"+this._channelId},init:function(){k.after(b,"onConnected",g.hitch(this,this.start),!1);b.start()},start:function(){var a=this;if(this._started)this.onStarted();
else b.subscribe(this._lrpChannel,this._handleMessage,this).then(function(){a._subscribed=!0;a._started=!0;a.onStarted()})},onStarted:function(){},stop:function(){this._started&&(b.unsubscribe(this._lrpChannel,this._handleMessage,this),this._subscribed=!1,b.stop(),this._started=!1)},sendCancelMessage:function(){b.publish(this._lrpChannel,{statusType:"CANCEL",statusValue:"User_Cancelled"})},isStarted:function(){return this._started},isReady:function(){return this._subscribed},_isCancelMessage:function(a){return"CANCEL"===
a.StatusType},_handleMessage:function(a){var b=this;(b._isCancelMessage(a)?function(){b._cancelCallback(a);return!0}:b._messageCallback(a))&&b.stop()}})});